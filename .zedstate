{"split":"2-0","session.current":["/public/js/loggedin.js","/app/views/navbar.blade.php"],"session.open":{"/app/views/navbar.blade.php":{"scrollTop":219,"scrollLeft":0,"selection":{"start":{"row":41,"column":11},"end":{"row":41,"column":11}},"lastUse":1398848384714,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":12},"end":{"row":25,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":12},"end":{"row":24,"column":13}},"text":"@"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":13},"end":{"row":24,"column":14}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":14},"end":{"row":24,"column":15}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":15},"end":{"row":24,"column":16}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":16},"end":{"row":24,"column":17}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":24,"column":17},"end":{"row":24,"column":18}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":48}},"text":"@if(Auth::check() && Auth::user()->notStudent())"},{"action":"insertText","range":{"start":{"row":46,"column":48},"end":{"row":47,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":47,"column":0},"end":{"row":82,"column":0}},"lines":["<div class=\"modal fade\" furl=\"{{ URL::route('list_get') }}\" faddurl=\"{{ URL::route('list_add') }}\" frmvurl=\"{{ URL::route('list_remove') }}\" id=\"list_nav_modal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">","  <div class=\"modal-dialog\">","    <div class=\"modal-content\">","      <div class=\"modal-header\">","        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>","        <h4 class=\"modal-title\" id=\"myModalLabel\">List of your selected students</h4>","      </div>","      <div class=\"modal-body\">","        <ul id=\"nav_ll_ul_main\" class=\"list-unstyled\">","          <!-- <li>","           <div class=\"media\">","               <a class=\"pull-left\" href=\"#\">","                   <img class=\"media-object\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\" alt=\".media-object\">","               </a>","               <div class=\"media-body\">","                   <div class=\"clearfix\">","                     <h4 class=\"media-heading pull-left\">anandms91</h4>","                     <a href=\"#\" class=\"pull-right\">Remove</a>","                   </div>","                   <ul class=\"list-unstyled\">","                     <li><strong>College :</strong> IIT Roorkee</li>","                     <li><strong>Degree :</strong> Undergraduate</li>","                   </ul>","               </div>","           </div>","           <hr />","          </li> -->","        </ul>","      </div>","      <div class=\"modal-footer\">","        <a type=\"button\" id=\"modConfBtn\" href=\"{{ URL::route('dash_cl') }}\" class=\"btn btn-primary btn-plain\">Confirm</a>","      </div>","    </div>","  </div>","</div>"]},{"action":"insertText","range":{"start":{"row":82,"column":0},"end":{"row":82,"column":6}},"text":"@endif"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":46,"column":35},"end":{"row":46,"column":45}},"text":"notStudent"},{"action":"insertText","range":{"start":{"row":46,"column":35},"end":{"row":46,"column":47}},"text":"isCompanyGuy"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":30},"end":{"row":47,"column":58}},"text":"{{ URL::route('list_get') }}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":30},"end":{"row":47,"column":31}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":42},"end":{"row":47,"column":70}},"text":"{{ URL::route('list_add') }}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":47,"column":42},"end":{"row":47,"column":43}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":47,"column":54},"end":{"row":47,"column":85}},"text":"{{ URL::route('list_remove') }}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":77,"column":47},"end":{"row":77,"column":74}},"text":"{{ URL::route('dash_cl') }}"},{"action":"insertText","range":{"start":{"row":77,"column":47},"end":{"row":77,"column":48}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":73,"column":0},"end":{"row":73,"column":19}},"text":"          </li> -->"},{"action":"removeLines","range":{"start":{"row":57,"column":0},"end":{"row":73,"column":0}},"nl":"\n","lines":["           <div class=\"media\">","               <a class=\"pull-left\" href=\"#\">","                   <img class=\"media-object\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\" alt=\".media-object\">","               </a>","               <div class=\"media-body\">","                   <div class=\"clearfix\">","                     <h4 class=\"media-heading pull-left\">anandms91</h4>","                     <a href=\"#\" class=\"pull-right\">Remove</a>","                   </div>","                   <ul class=\"list-unstyled\">","                     <li><strong>College :</strong> IIT Roorkee</li>","                     <li><strong>Degree :</strong> Undergraduate</li>","                   </ul>","               </div>","           </div>","           <hr />"]},{"action":"removeText","range":{"start":{"row":56,"column":10},"end":{"row":56,"column":19}},"text":"<!-- <li>"},{"action":"removeText","range":{"start":{"row":56,"column":10},"end":{"row":57,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":18},"end":{"row":23,"column":19}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":19},"end":{"row":23,"column":20}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":20},"end":{"row":23,"column":21}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":21},"end":{"row":23,"column":22}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":22},"end":{"row":23,"column":23}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":23},"end":{"row":23,"column":24}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":24},"end":{"row":23,"column":25}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":25},"end":{"row":23,"column":26}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":26},"end":{"row":23,"column":27}},"text":"x"}]}]],"redo":[]},"/public/js/loggedin.js":{"scrollTop":499,"scrollLeft":0,"selection":{"start":{"row":62,"column":40},"end":{"row":62,"column":40}},"lastUse":1398844598063,"undo":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":62,"column":14},"end":{"row":62,"column":15}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":14},"end":{"row":62,"column":15}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":15},"end":{"row":62,"column":16}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":16},"end":{"row":62,"column":17}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":17},"end":{"row":62,"column":18}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":18},"end":{"row":62,"column":19}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":19},"end":{"row":62,"column":20}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":20},"end":{"row":62,"column":21}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":21},"end":{"row":62,"column":22}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":62,"column":16},"end":{"row":62,"column":22}},"text":"remove"},{"action":"insertText","range":{"start":{"row":62,"column":16},"end":{"row":62,"column":26}},"text":"removeAttr"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":26},"end":{"row":62,"column":28}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":27},"end":{"row":62,"column":29}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":28},"end":{"row":62,"column":29}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":29},"end":{"row":62,"column":30}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":30},"end":{"row":62,"column":31}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":31},"end":{"row":62,"column":32}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":32},"end":{"row":62,"column":33}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":62,"column":28},"end":{"row":62,"column":33}},"text":"disab"},{"action":"insertText","range":{"start":{"row":62,"column":28},"end":{"row":62,"column":36}},"text":"disabled"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":62,"column":38},"end":{"row":62,"column":39}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":64,"column":7},"end":{"row":65,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":65,"column":0},"end":{"row":65,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":65,"column":4},"end":{"row":66,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":66,"column":0},"end":{"row":66,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":66,"column":4},"end":{"row":66,"column":61}},"text":"$(document).on('click', '.nav_ul_rmv_btn', function (e) {"},{"action":"insertText","range":{"start":{"row":66,"column":61},"end":{"row":67,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":67,"column":0},"end":{"row":83,"column":0}},"lines":["        var btn = $(this);","        btn.attr('disabled', 'disabled');","        var req = postRequest($('#list_nav_modal').attr('frmvurl'), {","            uid: btn.attr('userId')","        });","        req.done(function (data) {","            if (data.hasOwnProperty('del') && data.del) {","                btn.parent().parent().parent().parent().remove();","                if (reduceListCount()) updateList({","                    nthng: 'lolwa'","                });","            }","        });","        req.complete(function () {","            btn.removeAttr('disabled');","        })"]},{"action":"insertText","range":{"start":{"row":83,"column":0},"end":{"row":83,"column":7}},"text":"    });"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":10,"column":27},"end":{"row":10,"column":31}},"text":"data"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":5},"end":{"row":14,"column":6}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":5},"end":{"row":14,"column":6}},"text":";"}]}]],"redo":[]},"/public/js/app.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":20,"column":2},"end":{"row":20,"column":2}},"lastUse":1398844534306,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":14},"end":{"row":69,"column":16}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":15},"end":{"row":69,"column":16}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":16},"end":{"row":69,"column":33}},"text":"__ans_q_modal_ans"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":69,"column":35},"end":{"row":70,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":70,"column":0},"end":{"row":70,"column":8}},"text":"        "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":8},"end":{"row":70,"column":9}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":9},"end":{"row":70,"column":10}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":10},"end":{"row":70,"column":11}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":11},"end":{"row":70,"column":12}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":12},"end":{"row":70,"column":14}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":13},"end":{"row":70,"column":14}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":14},"end":{"row":70,"column":15}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":15},"end":{"row":70,"column":16}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":16},"end":{"row":70,"column":17}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":17},"end":{"row":70,"column":18}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":18},"end":{"row":70,"column":19}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":19},"end":{"row":70,"column":20}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":20},"end":{"row":70,"column":21}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":21},"end":{"row":70,"column":23}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":22},"end":{"row":70,"column":24}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":23},"end":{"row":70,"column":24}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":24},"end":{"row":70,"column":25}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":25},"end":{"row":70,"column":26}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":26},"end":{"row":70,"column":27}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":27},"end":{"row":70,"column":28}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":70,"column":28},"end":{"row":70,"column":29}},"text":"r"}]}]],"redo":[]},"/public/Gruntfile.js":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":31,"column":45},"end":{"row":31,"column":45}},"lastUse":1398844370794,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":83},"end":{"row":25,"column":84}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":84},"end":{"row":25,"column":85}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":85},"end":{"row":25,"column":87}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":86},"end":{"row":25,"column":87}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":87},"end":{"row":25,"column":88}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":88},"end":{"row":25,"column":89}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":89},"end":{"row":25,"column":90}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":90},"end":{"row":25,"column":91}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":91},"end":{"row":25,"column":92}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":92},"end":{"row":25,"column":93}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":93},"end":{"row":25,"column":94}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":94},"end":{"row":25,"column":95}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":95},"end":{"row":25,"column":96}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":96},"end":{"row":25,"column":97}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":97},"end":{"row":25,"column":98}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":98},"end":{"row":25,"column":99}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":99},"end":{"row":25,"column":100}},"text":"s"}]}]],"redo":[]},"/app/models/User.php":{"scrollTop":360,"scrollLeft":0,"selection":{"start":{"row":39,"column":2},"end":{"row":39,"column":2}},"lastUse":1398844078731,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":18},"end":{"row":28,"column":19}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":28,"column":19},"end":{"row":28,"column":20}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":2},"end":{"row":23,"column":3}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":3},"end":{"row":23,"column":4}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":4},"end":{"row":23,"column":5}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":5},"end":{"row":23,"column":6}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":6},"end":{"row":23,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":7},"end":{"row":23,"column":8}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":23,"column":8},"end":{"row":23,"column":9}},"text":" "}]}]],"redo":[]},"/app/routes.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":26,"column":23},"end":{"row":26,"column":23}},"lastUse":1398843845357,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":46},"end":{"row":48,"column":47}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":20},"end":{"row":48,"column":21}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":21},"end":{"row":48,"column":22}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":22},"end":{"row":48,"column":23}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":23},"end":{"row":48,"column":24}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":24},"end":{"row":48,"column":25}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":25},"end":{"row":48,"column":26}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":26},"end":{"row":48,"column":27}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":27},"end":{"row":48,"column":28}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":28},"end":{"row":48,"column":29}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":55},"end":{"row":48,"column":56}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":56},"end":{"row":48,"column":57}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":3},"end":{"row":48,"column":20}},"text":" echo '<br />' . "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":3},"end":{"row":48,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":41},"end":{"row":48,"column":42}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":48,"column":34},"end":{"row":48,"column":35}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":48,"column":34},"end":{"row":48,"column":35}},"text":"7"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":44,"column":0},"end":{"row":44,"column":1}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":44,"column":1},"end":{"row":44,"column":2}},"text":"*"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":44,"column":2},"end":{"row":44,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":49,"column":3},"end":{"row":49,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":49,"column":4},"end":{"row":49,"column":5}},"text":"*"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":49,"column":5},"end":{"row":49,"column":6}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":1},"end":{"row":5,"column":2}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":5,"column":0},"end":{"row":5,"column":1}},"text":"/"}]}]],"redo":[]},"/app/database/migrations/2014_04_27_140337_make_doubts_table.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":38,"column":0},"end":{"row":38,"column":0}},"lastUse":1398843829761,"undo":[],"redo":[]},"/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php":{"scrollTop":39125,"scrollLeft":0,"selection":{"start":{"row":2817,"column":7},"end":{"row":2817,"column":7}},"lastUse":1398843829754,"undo":[[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":2965,"column":0}},"nl":"\n","lines":["<?php namespace Illuminate\\Database\\Eloquent;","","use DateTime;","use ArrayAccess;","use Carbon\\Carbon;","use LogicException;","use Illuminate\\Events\\Dispatcher;","use Illuminate\\Database\\Eloquent\\Relations\\Pivot;","use Illuminate\\Database\\Eloquent\\Relations\\HasOne;","use Illuminate\\Database\\Eloquent\\Relations\\HasMany;","use Illuminate\\Database\\Eloquent\\Relations\\MorphTo;","use Illuminate\\Support\\Contracts\\JsonableInterface;","use Illuminate\\Support\\Contracts\\ArrayableInterface;","use Illuminate\\Database\\Eloquent\\Relations\\Relation;","use Illuminate\\Database\\Eloquent\\Relations\\MorphOne;","use Illuminate\\Database\\Eloquent\\Relations\\MorphMany;","use Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;","use Illuminate\\Database\\Query\\Builder as QueryBuilder;","use Illuminate\\Database\\Eloquent\\Relations\\MorphToMany;","use Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany;","use Illuminate\\Database\\Eloquent\\Relations\\HasManyThrough;","use Illuminate\\Database\\ConnectionResolverInterface as Resolver;","","abstract class Model implements ArrayAccess, ArrayableInterface, JsonableInterface {","","\t/**","\t * The connection name for the model.","\t *","\t * @var string","\t */","\tprotected $connection;","","\t/**","\t * The table associated with the model.","\t *","\t * @var string","\t */","\tprotected $table;","","\t/**","\t * The primary key for the model.","\t *","\t * @var string","\t */","\tprotected $primaryKey = 'id';","","\t/**","\t * The number of models to return for pagination.","\t *","\t * @var int","\t */","\tprotected $perPage = 15;","","\t/**","\t * Indicates if the IDs are auto-incrementing.","\t *","\t * @var bool","\t */","\tpublic $incrementing = true;","","\t/**","\t * Indicates if the model should be timestamped.","\t *","\t * @var bool","\t */","\tpublic $timestamps = true;","","\t/**","\t * The model's attributes.","\t *","\t * @var array","\t */","\tprotected $attributes = array();","","\t/**","\t * The model attribute's original state.","\t *","\t * @var array","\t */","\tprotected $original = array();","","\t/**","\t * The loaded relationships for the model.","\t *","\t * @var array","\t */","\tprotected $relations = array();","","\t/**","\t * The attributes that should be hidden for arrays.","\t *","\t * @var array","\t */","\tprotected $hidden = array();","","\t/**","\t * The attributes that should be visible in arrays.","\t *","\t * @var array","\t */","\tprotected $visible = array();","","\t/**","\t * The accessors to append to the model's array form.","\t *","\t * @var array","\t */","\tprotected $appends = array();","","\t/**","\t * The attributes that are mass assignable.","\t *","\t * @var array","\t */","\tprotected $fillable = array();","","\t/**","\t * The attributes that aren't mass assignable.","\t *","\t * @var array","\t */","\tprotected $guarded = array('*');","","\t/**","\t * The attributes that should be mutated to dates.","\t *","\t * @var array","\t */","\tprotected $dates = array();","","\t/**","\t * The relationships that should be touched on save.","\t *","\t * @var array","\t */","\tprotected $touches = array();","","\t/**","\t * User exposed observable events","\t *","\t * @var array","\t */","\tprotected $observables = array();","","\t/**","\t * The relations to eager load on every query.","\t *","\t * @var array","\t */","\tprotected $with = array();","","\t/**","\t * Indicates if the model exists.","\t *","\t * @var bool","\t */","\tpublic $exists = false;","","\t/**","\t * Indicates if the model should soft delete.","\t *","\t * @var bool","\t */","\tprotected $softDelete = false;","","\t/**","\t * Indicates whether attributes are snake cased on arrays.","\t *","\t * @var bool","\t */","\tpublic static $snakeAttributes = true;","","\t/**","\t * The connection resolver instance.","\t *","\t * @var \\Illuminate\\Database\\ConnectionResolverInterface","\t */","\tprotected static $resolver;","","\t/**","\t * The event dispatcher instance.","\t *","\t * @var \\Illuminate\\Events\\Dispatcher","\t */","\tprotected static $dispatcher;","","\t/**","\t * The array of booted models.","\t *","\t * @var array","\t */","\tprotected static $booted = array();","","\t/**","\t * Indicates if all mass assignment is enabled.","\t *","\t * @var bool","\t */","\tprotected static $unguarded = false;","","\t/**","\t * The cache of the mutated attributes for each class.","\t *","\t * @var array","\t */","\tprotected static $mutatorCache = array();","","\t/**","\t * The many to many relationship methods.","\t *","\t * @var array","\t */","\tpublic static $manyMethods = array('belongsToMany', 'morphToMany', 'morphedByMany');","","\t/**","\t * The name of the \"created at\" column.","\t *","\t * @var string","\t */","\tconst CREATED_AT = 'created_at';","","\t/**","\t * The name of the \"updated at\" column.","\t *","\t * @var string","\t */","\tconst UPDATED_AT = 'updated_at';","","\t/**","\t * The name of the \"deleted at\" column.","\t *","\t * @var string","\t */","\tconst DELETED_AT = 'deleted_at';","","\t/**","\t * Create a new Eloquent model instance.","\t *","\t * @param  array  $attributes","\t * @return void","\t */","\tpublic function __construct(array $attributes = array())","\t{","\t\t$this->bootIfNotBooted();","","\t\t$this->syncOriginal();","","\t\t$this->fill($attributes);","\t}","","\t/**","\t * Check if the model needs to be booted and if so, do it.","\t *","\t * @return void","\t */","\tprotected function bootIfNotBooted()","\t{","\t\tif ( ! isset(static::$booted[get_class($this)]))","\t\t{","\t\t\tstatic::$booted[get_class($this)] = true;","","\t\t\t$this->fireModelEvent('booting', false);","","\t\t\tstatic::boot();","","\t\t\t$this->fireModelEvent('booted', false);","\t\t}","\t}","","\t/**","\t * The \"booting\" method of the model.","\t *","\t * @return void","\t */","\tprotected static function boot()","\t{","\t\t$class = get_called_class();","","\t\tstatic::$mutatorCache[$class] = array();","","\t\t// Here we will extract all of the mutated attributes so that we can quickly","\t\t// spin through them after we export models to their array form, which we","\t\t// need to be fast. This will let us always know the attributes mutate.","\t\tforeach (get_class_methods($class) as $method)","\t\t{","\t\t\tif (preg_match('/^get(.+)Attribute$/', $method, $matches))","\t\t\t{","\t\t\t\tif (static::$snakeAttributes) $matches[1] = snake_case($matches[1]);","","\t\t\t\tstatic::$mutatorCache[$class][] = lcfirst($matches[1]);","\t\t\t}","\t\t}","\t}","","\t/**","\t * Register an observer with the Model.","\t *","\t * @param  object  $class","\t * @return void","\t */","\tpublic static function observe($class)","\t{","\t\t$instance = new static;","","\t\t$className = get_class($class);","","\t\t// When registering a model observer, we will spin through the possible events","\t\t// and determine if this observer has that method. If it does, we will hook","\t\t// it into the model's event system, making it convenient to watch these.","\t\tforeach ($instance->getObservableEvents() as $event)","\t\t{","\t\t\tif (method_exists($class, $event))","\t\t\t{","\t\t\t\tstatic::registerModelEvent($event, $className.'@'.$event);","\t\t\t}","\t\t}","\t}","","\t/**","\t * Fill the model with an array of attributes.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model|static","\t *","\t * @throws MassAssignmentException","\t */","\tpublic function fill(array $attributes)","\t{","\t\t$totallyGuarded = $this->totallyGuarded();","","\t\tforeach ($this->fillableFromArray($attributes) as $key => $value)","\t\t{","\t\t\t$key = $this->removeTableFromKey($key);","","\t\t\t// The developers may choose to place some attributes in the \"fillable\"","\t\t\t// array, which means only those attributes may be set through mass","\t\t\t// assignment to the model, and all others will just be ignored.","\t\t\tif ($this->isFillable($key))","\t\t\t{","\t\t\t\t$this->setAttribute($key, $value);","\t\t\t}","\t\t\telseif ($totallyGuarded)","\t\t\t{","\t\t\t\tthrow new MassAssignmentException($key);","\t\t\t}","\t\t}","","\t\treturn $this;","\t}","","\t/**","\t * Get the fillable attributes of a given array.","\t *","\t * @param  array  $attributes","\t * @return array","\t */","\tprotected function fillableFromArray(array $attributes)","\t{","\t\tif (count($this->fillable) > 0 && ! static::$unguarded)","\t\t{","\t\t\treturn array_intersect_key($attributes, array_flip($this->fillable));","\t\t}","","\t\treturn $attributes;","\t}","","\t/**","\t * Create a new instance of the given model.","\t *","\t * @param  array  $attributes","\t * @param  bool   $exists","\t * @return \\Illuminate\\Database\\Eloquent\\Model|static","\t */","\tpublic function newInstance($attributes = array(), $exists = false)","\t{","\t\t// This method just provides a convenient way for us to generate fresh model","\t\t// instances of this current model. It is particularly useful during the","\t\t// hydration of new objects via the Eloquent query builder instances.","\t\t$model = new static((array) $attributes);","","\t\t$model->exists = $exists;","","\t\treturn $model;","\t}","","\t/**","\t * Create a new model instance that is existing.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model|static","\t */","\tpublic function newFromBuilder($attributes = array())","\t{","\t\t$instance = $this->newInstance(array(), true);","","\t\t$instance->setRawAttributes((array) $attributes, true);","","\t\treturn $instance;","\t}","","\t/**","\t * Create a collection of models from plain arrays.","\t *","\t * @param  array  $items","\t * @param  string  $connection","\t * @return \\Illuminate\\Database\\Eloquent\\Collection","\t */","\tpublic static function hydrate(array $items, $connection = null)","\t{","\t\t$collection = with($instance = new static)->newCollection();","","\t\tforeach ($items as $item)","\t\t{","\t\t\t$model = $instance->newFromBuilder($item);","","\t\t\tif ( ! is_null($connection))","\t\t\t{","\t\t\t\t$model->setConnection($connection);","\t\t\t}","","\t\t\t$collection->push($model);","\t\t}","","\t\treturn $collection;","\t}","","\t/**","\t * Create a collection of models from a raw query.","\t *","\t * @param  string  $query","\t * @param  array  $bindings","\t * @param  string  $connection","\t * @return \\Illuminate\\Database\\Eloquent\\Collection","\t */","\tpublic static function hydrateRaw($query, $bindings = array(), $connection = null)","\t{","\t\t$instance = new static;","","\t\tif ( ! is_null($connection))","\t\t{","\t\t\t$instance->setConnection($connection);","\t\t}","","\t\t$items = $instance->getConnection()->select($query, $bindings);","","\t\treturn static::hydrate($items, $connection);","\t}","","\t/**","\t * Save a new model and return the instance.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model|static","\t */","\tpublic static function create(array $attributes)","\t{","\t\t$model = new static($attributes);","","\t\t$model->save();","","\t\treturn $model;","\t}","","\t/**","\t * Get the first record matching the attributes or create it.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic static function firstOrCreate(array $attributes)","\t{","\t\tif ( ! is_null($instance = static::firstByAttributes($attributes)))","\t\t{","\t\t\treturn $instance;","\t\t}","","\t\treturn static::create($attributes);","\t}","","\t/**","\t * Get the first record matching the attributes or instantiate it.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic static function firstOrNew(array $attributes)","\t{","\t\tif ( ! is_null($instance = static::firstByAttributes($attributes)))","\t\t{","\t\t\treturn $instance;","\t\t}","","\t\treturn new static($attributes);","\t}","","\t/**","\t * Get the first model for the given attributes.","\t *","\t * @param  array  $attributes","\t * @return \\Illuminate\\Database\\Eloquent\\Model|null","\t */","\tprotected static function firstByAttributes($attributes)","\t{","\t\t$query = static::query();","","\t\tforeach ($attributes as $key => $value)","\t\t{","\t\t\t$query->where($key, $value);","\t\t}","","\t\treturn $query->first() ?: null;","\t}","","\t/**","\t * Begin querying the model.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic static function query()","\t{","\t\treturn with(new static)->newQuery();","\t}","","\t/**","\t * Begin querying the model on a given connection.","\t *","\t * @param  string  $connection","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic static function on($connection = null)","\t{","\t\t// First we will just create a fresh instance of this model, and then we can","\t\t// set the connection on the model so that it is be used for the queries","\t\t// we execute, as well as being set on each relationship we retrieve.","\t\t$instance = new static;","","\t\t$instance->setConnection($connection);","","\t\treturn $instance->newQuery();","\t}","","\t/**","\t * Get all of the models from the database.","\t *","\t * @param  array  $columns","\t * @return \\Illuminate\\Database\\Eloquent\\Collection|static[]","\t */","\tpublic static function all($columns = array('*'))","\t{","\t\t$instance = new static;","","\t\treturn $instance->newQuery()->get($columns);","\t}","","\t/**","\t * Find a model by its primary key.","\t *","\t * @param  mixed  $id","\t * @param  array  $columns","\t * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","\t */","\tpublic static function find($id, $columns = array('*'))","\t{","\t\tif (is_array($id) && empty($id)) return new Collection;","","\t\t$instance = new static;","","\t\treturn $instance->newQuery()->find($id, $columns);","\t}","","\t/**","\t * Find a model by its primary key or return new static.","\t *","\t * @param  mixed  $id","\t * @param  array  $columns","\t * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","\t */","\tpublic static function findOrNew($id, $columns = array('*'))","\t{","\t\tif ( ! is_null($model = static::find($id, $columns))) return $model;","","\t\treturn new static($columns);","\t}","","\t/**","\t * Find a model by its primary key or throw an exception.","\t *","\t * @param  mixed  $id","\t * @param  array  $columns","\t * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","\t *","\t * @throws ModelNotFoundException","\t */","\tpublic static function findOrFail($id, $columns = array('*'))","\t{","\t\tif ( ! is_null($model = static::find($id, $columns))) return $model;","","\t\tthrow with(new ModelNotFoundException)->setModel(get_called_class());","\t}","","\t/**","\t * Eager load relations on the model.","\t *","\t * @param  array|string  $relations","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function load($relations)","\t{","\t\tif (is_string($relations)) $relations = func_get_args();","","\t\t$query = $this->newQuery()->with($relations);","","\t\t$query->eagerLoadRelations(array($this));","","\t\treturn $this;","\t}","","\t/**","\t * Being querying a model with eager loading.","\t *","\t * @param  array|string  $relations","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic static function with($relations)","\t{","\t\tif (is_string($relations)) $relations = func_get_args();","","\t\t$instance = new static;","","\t\treturn $instance->newQuery()->with($relations);","\t}","","\t/**","\t * Define a one-to-one relationship.","\t *","\t * @param  string  $related","\t * @param  string  $foreignKey","\t * @param  string  $localKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasOne","\t */","\tpublic function hasOne($related, $foreignKey = null, $localKey = null)","\t{","\t\t$foreignKey = $foreignKey ?: $this->getForeignKey();","","\t\t$instance = new $related;","","\t\t$localKey = $localKey ?: $this->getKeyName();","","\t\treturn new HasOne($instance->newQuery(), $this, $instance->getTable().'.'.$foreignKey, $localKey);","\t}","","\t/**","\t * Define a polymorphic one-to-one relationship.","\t *","\t * @param  string  $related","\t * @param  string  $name","\t * @param  string  $type","\t * @param  string  $id","\t * @param  string  $localKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphOne","\t */","\tpublic function morphOne($related, $name, $type = null, $id = null, $localKey = null)","\t{","\t\t$instance = new $related;","","\t\tlist($type, $id) = $this->getMorphs($name, $type, $id);","","\t\t$table = $instance->getTable();","","\t\t$localKey = $localKey ?: $this->getKeyName();","","\t\treturn new MorphOne($instance->newQuery(), $this, $table.'.'.$type, $table.'.'.$id, $localKey);","\t}","","\t/**","\t * Define an inverse one-to-one or many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $foreignKey","\t * @param  string  $otherKey","\t * @param  string  $relation","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\BelongsTo","\t */","\tpublic function belongsTo($related, $foreignKey = null, $otherKey = null, $relation = null)","\t{","\t\t// If no relation name was given, we will use this debug backtrace to extract","\t\t// the calling method's name and use that as the relationship name as most","\t\t// of the time this will be what we desire to use for the relatinoships.","\t\tif (is_null($relation))","\t\t{","\t\t\tlist(, $caller) = debug_backtrace(false);","","\t\t\t$relation = $caller['function'];","\t\t}","","\t\t// If no foreign key was supplied, we can use a backtrace to guess the proper","\t\t// foreign key name by using the name of the relationship function, which","\t\t// when combined with an \"_id\" should conventionally match the columns.","\t\tif (is_null($foreignKey))","\t\t{","\t\t\t$foreignKey = snake_case($relation).'_id';","\t\t}","","\t\t$instance = new $related;","","\t\t// Once we have the foreign key names, we'll just create a new Eloquent query","\t\t// for the related models and returns the relationship instance which will","\t\t// actually be responsible for retrieving and hydrating every relations.","\t\t$query = $instance->newQuery();","","\t\t$otherKey = $otherKey ?: $instance->getKeyName();","","\t\treturn new BelongsTo($query, $this, $foreignKey, $otherKey, $relation);","\t}","","\t/**","\t * Define a polymorphic, inverse one-to-one or many relationship.","\t *","\t * @param  string  $name","\t * @param  string  $type","\t * @param  string  $id","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphTo","\t */","\tpublic function morphTo($name = null, $type = null, $id = null)","\t{","\t\t// If no name is provided, we will use the backtrace to get the function name","\t\t// since that is most likely the name of the polymorphic interface. We can","\t\t// use that to get both the class and foreign key that will be utilized.","\t\tif (is_null($name))","\t\t{","\t\t\tlist(, $caller) = debug_backtrace(false);","","\t\t\t$name = snake_case($caller['function']);","\t\t}","","\t\tlist($type, $id) = $this->getMorphs($name, $type, $id);","","\t\t// If the type value is null it is probably safe to assume we're eager loading","\t\t// the relationship. When that is the case we will pass in a dummy query as","\t\t// there are multiple types in the morph and we can't use single queries.","\t\tif (is_null($class = $this->$type))","\t\t{","\t\t\treturn new MorphTo(","\t\t\t\t$this->newQuery(), $this, $id, null, $type, $name","\t\t\t);","\t\t}","","\t\t// If we are not eager loading the relatinship, we will essentially treat this","\t\t// as a belongs-to style relationship since morph-to extends that class and","\t\t// we will pass in the appropriate values so that it behaves as expected.","\t\telse","\t\t{","\t\t\t$instance = new $class;","","\t\t\treturn new MorphTo(","\t\t\t\twith($instance)->newQuery(), $this, $id, $instance->getKeyName(), $type, $name","\t\t\t);","\t\t}","\t}","","\t/**","\t * Define a one-to-many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $foreignKey","\t * @param  string  $localKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasMany","\t */","\tpublic function hasMany($related, $foreignKey = null, $localKey = null)","\t{","\t\t$foreignKey = $foreignKey ?: $this->getForeignKey();","","\t\t$instance = new $related;","","\t\t$localKey = $localKey ?: $this->getKeyName();","","\t\treturn new HasMany($instance->newQuery(), $this, $instance->getTable().'.'.$foreignKey, $localKey);","\t}","","\t/**","\t * Define a has-many-through relationship.","\t *","\t * @param  string  $related","\t * @param  string  $through","\t * @param  string|null  $firstKey","\t * @param  string|null  $secondKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasManyThrough","\t */","\tpublic function hasManyThrough($related, $through, $firstKey = null, $secondKey = null)","\t{","\t\t$through = new $through;","","\t\t$firstKey = $firstKey ?: $this->getForeignKey();","","\t\t$secondKey = $secondKey ?: $through->getForeignKey();","","\t\treturn new HasManyThrough(with(new $related)->newQuery(), $this, $through, $firstKey, $secondKey);","\t}","","\t/**","\t * Define a polymorphic one-to-many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $name","\t * @param  string  $type","\t * @param  string  $id","\t * @param  string  $localKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphMany","\t */","\tpublic function morphMany($related, $name, $type = null, $id = null, $localKey = null)","\t{","\t\t$instance = new $related;","","\t\t// Here we will gather up the morph type and ID for the relationship so that we","\t\t// can properly query the intermediate table of a relation. Finally, we will","\t\t// get the table and create the relationship instances for the developers.","\t\tlist($type, $id) = $this->getMorphs($name, $type, $id);","","\t\t$table = $instance->getTable();","","\t\t$localKey = $localKey ?: $this->getKeyName();","","\t\treturn new MorphMany($instance->newQuery(), $this, $table.'.'.$type, $table.'.'.$id, $localKey);","\t}","","\t/**","\t * Define a many-to-many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $table","\t * @param  string  $foreignKey","\t * @param  string  $otherKey","\t * @param  string  $relation","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany","\t */","\tpublic function belongsToMany($related, $table = null, $foreignKey = null, $otherKey = null, $relation = null)","\t{","\t\t// If no relationship name was passed, we will pull backtraces to get the","\t\t// name of the calling function. We will use that function name as the","\t\t// title of this relation since that is a great convention to apply.","\t\tif (is_null($relation))","\t\t{","\t\t\t$relation = $this->getBelongsToManyCaller();","\t\t}","","\t\t// First, we'll need to determine the foreign key and \"other key\" for the","\t\t// relationship. Once we have determined the keys we'll make the query","\t\t// instances as well as the relationship instances we need for this.","\t\t$foreignKey = $foreignKey ?: $this->getForeignKey();","","\t\t$instance = new $related;","","\t\t$otherKey = $otherKey ?: $instance->getForeignKey();","","\t\t// If no table name was provided, we can guess it by concatenating the two","\t\t// models using underscores in alphabetical order. The two model names","\t\t// are transformed to snake case from their default CamelCase also.","\t\tif (is_null($table))","\t\t{","\t\t\t$table = $this->joiningTable($related);","\t\t}","","\t\t// Now we're ready to create a new query builder for the related model and","\t\t// the relationship instances for the relation. The relations will set","\t\t// appropriate query constraint and entirely manages the hydrations.","\t\t$query = $instance->newQuery();","","\t\treturn new BelongsToMany($query, $this, $table, $foreignKey, $otherKey, $relation);","\t}","","\t/**","\t * Define a polymorphic many-to-many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $name","\t * @param  string  $table","\t * @param  string  $foreignKey","\t * @param  string  $otherKey","\t * @param  bool    $inverse","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphToMany","\t */","\tpublic function morphToMany($related, $name, $table = null, $foreignKey = null, $otherKey = null, $inverse = false)","\t{","\t\t$caller = $this->getBelongsToManyCaller();","","\t\t// First, we will need to determine the foreign key and \"other key\" for the","\t\t// relationship. Once we have determined the keys we will make the query","\t\t// instances, as well as the relationship instances we need for these.","\t\t$foreignKey = $foreignKey ?: $name.'_id';","","\t\t$instance = new $related;","","\t\t$otherKey = $otherKey ?: $instance->getForeignKey();","","\t\t// Now we're ready to create a new query builder for this related model and","\t\t// the relationship instances for this relation. This relations will set","\t\t// appropriate query constraints then entirely manages the hydrations.","\t\t$query = $instance->newQuery();","","\t\t$table = $table ?: str_plural($name);","","\t\treturn new MorphToMany(","\t\t\t$query, $this, $name, $table, $foreignKey,","\t\t\t$otherKey, $caller, $inverse","\t\t);","\t}","","\t/**","\t * Define a polymorphic, inverse many-to-many relationship.","\t *","\t * @param  string  $related","\t * @param  string  $name","\t * @param  string  $table","\t * @param  string  $foreignKey","\t * @param  string  $otherKey","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphToMany","\t */","\tpublic function morphedByMany($related, $name, $table = null, $foreignKey = null, $otherKey = null)","\t{","\t\t$foreignKey = $foreignKey ?: $this->getForeignKey();","","\t\t// For the inverse of the polymorphic many-to-many relations, we will change","\t\t// the way we determine the foreign and other keys, as it is the opposite","\t\t// of the morph-to-many method since we're figuring out these inverses.","\t\t$otherKey = $otherKey ?: $name.'_id';","","\t\treturn $this->morphToMany($related, $name, $table, $foreignKey, $otherKey, true);","\t}","","\t/**","\t * Get the relationship name of the belongs to many.","\t *","\t * @return  string","\t */","\tprotected function getBelongsToManyCaller()","\t{","\t\t$self = __FUNCTION__;","","\t\t$caller = array_first(debug_backtrace(false), function($key, $trace) use ($self)","\t\t{","\t\t\t$caller = $trace['function'];","","\t\t\treturn ( ! in_array($caller, Model::$manyMethods) && $caller != $self);","\t\t});","","\t\treturn ! is_null($caller) ? $caller['function'] : null;","\t}","","\t/**","\t * Get the joining table name for a many-to-many relation.","\t *","\t * @param  string  $related","\t * @return string","\t */","\tpublic function joiningTable($related)","\t{","\t\t// The joining table name, by convention, is simply the snake cased models","\t\t// sorted alphabetically and concatenated with an underscore, so we can","\t\t// just sort the models and join them together to get the table name.","\t\t$base = snake_case(class_basename($this));","","\t\t$related = snake_case(class_basename($related));","","\t\t$models = array($related, $base);","","\t\t// Now that we have the model names in an array we can just sort them and","\t\t// use the implode function to join them together with an underscores,","\t\t// which is typically used by convention within the database system.","\t\tsort($models);","","\t\treturn strtolower(implode('_', $models));","\t}","","\t/**","\t * Destroy the models for the given IDs.","\t *","\t * @param  array|int  $ids","\t * @return int","\t */","\tpublic static function destroy($ids)","\t{","\t\t// We'll initialize a count here so we will return the total number of deletes","\t\t// for the operation. The developers can then check this number as a boolean","\t\t// type value or get this total count of records deleted for logging, etc.","\t\t$count = 0;","","\t\t$ids = is_array($ids) ? $ids : func_get_args();","","\t\t$instance = new static;","","\t\t// We will actually pull the models from the database table and call delete on","\t\t// each of them individually so that their events get fired properly with a","\t\t// correct set of attributes in case the developers wants to check these.","\t\t$key = $instance->getKeyName();","","\t\tforeach ($instance->whereIn($key, $ids)->","\t\t) as $model)","\t\t{","\t\t\tif ($model->delete()) $count++;","\t\t}","","\t\treturn $count;","\t}","","\t/**","\t * Delete the model from the database.","\t *","\t * @return bool|null","\t */","\tpublic function delete()","\t{","\t\tif (is_null($this->primaryKey))","\t\t{","\t\t\tthrow new \\Exception(\"No primary key defined on model.\");","\t\t}","","\t\tif ($this->exists)","\t\t{","\t\t\tif ($this->fireModelEvent('deleting') === false) return false;","","\t\t\t// Here, we'll touch the owning models, verifying these timestamps get updated","\t\t\t// for the models. This will allow any caching to get broken on the parents","\t\t\t// by the timestamp. Then we will go ahead and delete the model instance.","\t\t\t$this->touchOwners();","","\t\t\t$this->performDeleteOnModel();","","\t\t\t$this->exists = false;","","\t\t\t// Once the model has been deleted, we will fire off the deleted event so that","\t\t\t// the developers may hook into post-delete operations. We will then return","\t\t\t// a boolean true as the delete is presumably successful on the database.","\t\t\t$this->fireModelEvent('deleted', false);","","\t\t\treturn true;","\t\t}","\t}","","\t/**","\t * Force a hard delete on a soft deleted model.","\t *","\t * @return void","\t */","\tpublic function forceDelete()","\t{","\t\t$softDelete = $this->softDelete;","","\t\t// We will temporarily disable false delete to allow us to perform the real","\t\t// delete operation against the model. We will then restore the deleting","\t\t// state to what this was prior to this given hard deleting operation.","\t\t$this->softDelete = false;","","\t\t$this->delete();","","\t\t$this->softDelete = $softDelete;","\t}","","\t/**","\t * Perform the actual delete query on this model instance.","\t *","\t * @return void","\t */","\tprotected function performDeleteOnModel()","\t{","\t\t$query = $this->newQuery()->where($this->getKeyName(), $this->getKey());","","\t\tif ($this->softDelete)","\t\t{","\t\t\t$this->{static::DELETED_AT} = $time = $this->freshTimestamp();","","\t\t\t$query->update(array(static::DELETED_AT => $this->fromDateTime($time)));","\t\t}","\t\telse","\t\t{","\t\t\t$query->delete();","\t\t}","\t}","","\t/**","\t * Restore a soft-deleted model instance.","\t *","\t * @return bool|null","\t */","\tpublic function restore()","\t{","\t\tif ($this->softDelete)","\t\t{","\t\t\t// If the restoring event does not return false, we will proceed with this","\t\t\t// restore operation. Otherwise, we bail out so the developer will stop","\t\t\t// the restore totally. We will clear the deleted timestamp and save.","\t\t\tif ($this->fireModelEvent('restoring') === false)","\t\t\t{","\t\t\t\treturn false;","\t\t\t}","","\t\t\t$this->{static::DELETED_AT} = null;","","\t\t\t// Once we have saved the model, we will fire the \"restored\" event so this","\t\t\t// developer will do anything they need to after a restore operation is","\t\t\t// totally finished. Then we will return the result of the save call.","\t\t\t$result = $this->save();","","\t\t\t$this->fireModelEvent('restored', false);","","\t\t\treturn $result;","\t\t}","\t}","","\t/**","\t * Register a saving model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function saving($callback)","\t{","\t\tstatic::registerModelEvent('saving', $callback);","\t}","","\t/**","\t * Register a saved model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function saved($callback)","\t{","\t\tstatic::registerModelEvent('saved', $callback);","\t}","","\t/**","\t * Register an updating model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function updating($callback)","\t{","\t\tstatic::registerModelEvent('updating', $callback);","\t}","","\t/**","\t * Register an updated model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function updated($callback)","\t{","\t\tstatic::registerModelEvent('updated', $callback);","\t}","","\t/**","\t * Register a creating model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function creating($callback)","\t{","\t\tstatic::registerModelEvent('creating', $callback);","\t}","","\t/**","\t * Register a created model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function created($callback)","\t{","\t\tstatic::registerModelEvent('created', $callback);","\t}","","\t/**","\t * Register a deleting model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function deleting($callback)","\t{","\t\tstatic::registerModelEvent('deleting', $callback);","\t}","","\t/**","\t * Register a deleted model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function deleted($callback)","\t{","\t\tstatic::registerModelEvent('deleted', $callback);","\t}","","\t/**","\t * Register a restoring model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function restoring($callback)","\t{","\t\tstatic::registerModelEvent('restoring', $callback);","\t}","","\t/**","\t * Register a restored model event with the dispatcher.","\t *","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tpublic static function restored($callback)","\t{","\t\tstatic::registerModelEvent('restored', $callback);","\t}","","\t/**","\t * Remove all of the event listeners for the model.","\t *","\t * @return void","\t */","\tpublic static function flushEventListeners()","\t{","\t\tif ( ! isset(static::$dispatcher)) return;","","\t\t$instance = new static;","","\t\tforeach ($instance->getObservableEvents() as $event)","\t\t{","\t\t\tstatic::$dispatcher->forget(\"eloquent.{$event}: \".get_called_class());","\t\t}","\t}","","\t/**","\t * Register a model event with the dispatcher.","\t *","\t * @param  string  $event","\t * @param  \\Closure|string  $callback","\t * @return void","\t */","\tprotected static function registerModelEvent($event, $callback)","\t{","\t\tif (isset(static::$dispatcher))","\t\t{","\t\t\t$name = get_called_class();","","\t\t\tstatic::$dispatcher->listen(\"eloquent.{$event}: {$name}\", $callback);","\t\t}","\t}","","\t/**","\t * Get the observable event names.","\t *","\t * @return array","\t */","\tpublic function getObservableEvents()","\t{","\t\treturn array_merge(","\t\t\tarray(","\t\t\t\t'creating', 'created', 'updating', 'updated',","\t\t\t\t'deleting', 'deleted', 'saving', 'saved',","\t\t\t\t'restoring', 'restored',","\t\t\t),","\t\t\t$this->observables","\t\t);","\t}","","\t/**","\t * Increment a column's value by a given amount.","\t *","\t * @param  string  $column","\t * @param  int     $amount","\t * @return int","\t */","\tprotected function increment($column, $amount = 1)","\t{","\t\treturn $this->incrementOrDecrement($column, $amount, 'increment');","\t}","","\t/**","\t * Decrement a column's value by a given amount.","\t *","\t * @param  string  $column","\t * @param  int     $amount","\t * @return int","\t */","\tprotected function decrement($column, $amount = 1)","\t{","\t\treturn $this->incrementOrDecrement($column, $amount, 'decrement');","\t}","","\t/**","\t * Run the increment or decrement method on the model.","\t *","\t * @param  string  $column","\t * @param  int     $amount","\t * @param  string  $method","\t * @return int","\t */","\tprotected function incrementOrDecrement($column, $amount, $method)","\t{","\t\t$query = $this->newQuery();","","\t\tif ( ! $this->exists)","\t\t{","\t\t\treturn $query->{$method}($column, $amount);","\t\t}","","\t\treturn $query->where($this->getKeyName(), $this->getKey())->{$method}($column, $amount);","\t}","","\t/**","\t * Update the model in the database.","\t *","\t * @param  array  $attributes","\t * @return mixed","\t */","\tpublic function update(array $attributes = array())","\t{","\t\tif ( ! $this->exists)","\t\t{","\t\t\treturn $this->newQuery()->update($attributes);","\t\t}","","\t\treturn $this->fill($attributes)->save();","\t}","","\t/**","\t * Save the model and all of its relationships.","\t *","\t * @return bool","\t */","\tpublic function push()","\t{","\t\tif ( ! $this->save()) return false;","","\t\t// To sync all of the relationships to the database, we will simply spin through","\t\t// the relationships and save each model via this \"push\" method, which allows","\t\t// us to recurse into all of these nested relations for the model instance.","\t\tforeach ($this->relations as $models)","\t\t{","\t\t\tforeach (Collection::make($models) as $model)","\t\t\t{","\t\t\t\tif ( ! $model->push()) return false;","\t\t\t}","\t\t}","","\t\treturn true;","\t}","","\t/**","\t * Save the model to the database.","\t *","\t * @param  array  $options","\t * @return bool","\t */","\tpublic function save(array $options = array())","\t{","\t\t$query = $this->newQueryWithDeleted();","","\t\t// If the \"saving\" event returns false we'll bail out of the save and return","\t\t// false, indicating that the save failed. This gives an opportunities to","\t\t// listeners to cancel save operations if validations fail or whatever.","\t\tif ($this->fireModelEvent('saving') === false)","\t\t{","\t\t\treturn false;","\t\t}","","\t\t// If the model already exists in the database we can just update our record","\t\t// that is already in this database using the current IDs in this \"where\"","\t\t// clause to only update this model. Otherwise, we'll just insert them.","\t\tif ($this->exists)","\t\t{","\t\t\t$saved = $this->performUpdate($query);","\t\t}","","\t\t// If the model is brand new, we'll insert it into our database and set the","\t\t// ID attribute on the model to the value of the newly inserted row's ID","\t\t// which is typically an auto-increment value managed by the database.","\t\telse","\t\t{","\t\t\t$saved = $this->performInsert($query);","\t\t}","","\t\tif ($saved) $this->finishSave($options);","","\t\treturn $saved;","\t}","","\t/**","\t * Finish processing on a successful save operation.","\t *","\t * @param  array  $options","\t * @return void","\t */","\tprotected function finishSave(array $options)","\t{","\t\t$this->syncOriginal();","","\t\t$this->fireModelEvent('saved', false);","","\t\tif (array_get($options, 'touch', true)) $this->touchOwners();","\t}","","\t/**","\t * Perform a model update operation.","\t *","\t * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","\t * @return bool","\t */","\tprotected function performUpdate(Builder $query)","\t{","\t\t$dirty = $this->getDirty();","","\t\tif (count($dirty) > 0)","\t\t{","\t\t\t// If the updating event returns false, we will cancel the update operation so","\t\t\t// developers can hook Validation systems into their models and cancel this","\t\t\t// operation if the model does not pass validation. Otherwise, we update.","\t\t\tif ($this->fireModelEvent('updating') === false)","\t\t\t{","\t\t\t\treturn false;","\t\t\t}","","\t\t\t// First we need to create a fresh query instance and touch the creation and","\t\t\t// update timestamp on the model which are maintained by us for developer","\t\t\t// convenience. Then we will just continue saving the model instances.","\t\t\tif ($this->timestamps)","\t\t\t{","\t\t\t\t$this->updateTimestamps();","\t\t\t}","","\t\t\t// Once we have run the update operation, we will fire the \"updated\" event for","\t\t\t// this model instance. This will allow developers to hook into these after","\t\t\t// models are updated, giving them a chance to do any special processing.","\t\t\t$dirty = $this->getDirty();","","\t\t\t$this->setKeysForSaveQuery($query)->update($dirty);","","\t\t\t$this->fireModelEvent('updated', false);","\t\t}","","\t\treturn true;","\t}","","\t/**","\t * Perform a model insert operation.","\t *","\t * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","\t * @return bool","\t */","\tprotected function performInsert(Builder $query)","\t{","\t\tif ($this->fireModelEvent('creating') === false) return false;","","\t\t// First we'll need to create a fresh query instance and touch the creation and","\t\t// update timestamps on this model, which are maintained by us for developer","\t\t// convenience. After, we will just continue saving these model instances.","\t\tif ($this->timestamps)","\t\t{","\t\t\t$this->updateTimestamps();","\t\t}","","\t\t// If the model has an incrementing key, we can use the \"insertGetId\" method on","\t\t// the query builder, which will give us back the final inserted ID for this","\t\t// table from the database. Not all tables have to be incrementing though.","\t\t$attributes = $this->attributes;","","\t\tif ($this->incrementing)","\t\t{","\t\t\t$this->insertAndSetId($query, $attributes);","\t\t}","","\t\t// If the table is not incrementing we'll simply insert this attributes as they","\t\t// are, as this attributes arrays must contain an \"id\" column already placed","\t\t// there by the developer as the manually determined key for these models.","\t\telse","\t\t{","\t\t\t$query->insert($attributes);","\t\t}","","\t\t// We will go ahead and set the exists property to true, so that it is set when","\t\t// the created event is fired, just in case the developer tries to update it","\t\t// during the event. This will allow them to do so and run an update here.","\t\t$this->exists = true;","","\t\t$this->fireModelEvent('created', false);","","\t\treturn true;","\t}","","\t/**","\t * Insert the given attributes and set the ID on the model.","\t *","\t * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","\t * @param  array  $attributes","\t * @return void","\t */","\tprotected function insertAndSetId(Builder $query, $attributes)","\t{","\t\t$id = $query->insertGetId($attributes, $keyName = $this->getKeyName());","","\t\t$this->setAttribute($keyName, $id);","\t}","","\t/**","\t * Touch the owning relations of the model.","\t *","\t * @return void","\t */","\tpublic function touchOwners()","\t{","\t\tforeach ($this->touches as $relation)","\t\t{","\t\t\t$this->$relation()->touch();","\t\t}","\t}","","\t/**","\t * Determine if the model touches a given relation.","\t *","\t * @param  string  $relation","\t * @return bool","\t */","\tpublic function touches($relation)","\t{","\t\treturn in_array($relation, $this->touches);","\t}","","\t/**","\t * Fire the given event for the model.","\t *","\t * @param  string  $event","\t * @param  bool    $halt","\t * @return mixed","\t */","\tprotected function fireModelEvent($event, $halt = true)","\t{","\t\tif ( ! isset(static::$dispatcher)) return true;","","\t\t// We will append the names of the class to the event to distinguish it from","\t\t// other model events that are fired, allowing us to listen on each model","\t\t// event set individually instead of catching event for all the models.","\t\t$event = \"eloquent.{$event}: \".get_class($this);","","\t\t$method = $halt ? 'until' : 'fire';","","\t\treturn static::$dispatcher->$method($event, $this);","\t}","","\t/**","\t * Set the keys for a save update query.","\t *","\t * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","\t * @return \\Illuminate\\Database\\Eloquent\\Builder","\t */","\tprotected function setKeysForSaveQuery(Builder $query)","\t{","\t\t$query->where($this->getKeyName(), '=', $this->getKeyForSaveQuery());","","\t\treturn $query;","\t}","","\t/**","\t * Get the primary key value for a save query.","\t *","\t * @return mixed","\t */","\tprotected function getKeyForSaveQuery()","\t{","\t\tif (isset($this->original[$this->getKeyName()]))","\t\t{","\t\t\treturn $this->original[$this->getKeyName()];","\t\t}","\t\telse","\t\t{","\t\t\treturn $this->getAttribute($this->getKeyName());","\t\t}","\t}","","\t/**","\t * Update the model's update timestamp.","\t *","\t * @return bool","\t */","\tpublic function touch()","\t{","\t\t$this->updateTimestamps();","","\t\treturn $this->save();","\t}","","\t/**","\t * Update the creation and update timestamps.","\t *","\t * @return void","\t */","\tprotected function updateTimestamps()","\t{","\t\t$time = $this->freshTimestamp();","","\t\tif ( ! $this->isDirty(static::UPDATED_AT))","\t\t{","\t\t\t$this->setUpdatedAt($time);","\t\t}","","\t\tif ( ! $this->exists && ! $this->isDirty(static::CREATED_AT))","\t\t{","\t\t\t$this->setCreatedAt($time);","\t\t}","\t}","","\t/**","\t * Set the value of the \"created at\" attribute.","\t *","\t * @param  mixed  $value","\t * @return void","\t */","\tpublic function setCreatedAt($value)","\t{","\t\t$this->{static::CREATED_AT} = $value;","\t}","","\t/**","\t * Set the value of the \"updated at\" attribute.","\t *","\t * @param  mixed  $value","\t * @return void","\t */","\tpublic function setUpdatedAt($value)","\t{","\t\t$this->{static::UPDATED_AT} = $value;","\t}","","\t/**","\t * Get the name of the \"created at\" column.","\t *","\t * @return string","\t */","\tpublic function getCreatedAtColumn()","\t{","\t\treturn static::CREATED_AT;","\t}","","\t/**","\t * Get the name of the \"updated at\" column.","\t *","\t * @return string","\t */","\tpublic function getUpdatedAtColumn()","\t{","\t\treturn static::UPDATED_AT;","\t}","","\t/**","\t * Get the name of the \"deleted at\" column.","\t *","\t * @return string","\t */","\tpublic function getDeletedAtColumn()","\t{","\t\treturn static::DELETED_AT;","\t}","","\t/**","\t * Get the fully qualified \"deleted at\" column.","\t *","\t * @return string","\t */","\tpublic function getQualifiedDeletedAtColumn()","\t{","\t\treturn $this->getTable().'.'.$this->getDeletedAtColumn();","\t}","","\t/**","\t * Get a fresh timestamp for the model.","\t *","\t * @return \\Carbon\\Carbon","\t */","\tpublic function freshTimestamp()","\t{","\t\treturn new Carbon;","\t}","","\t/**","\t * Get a fresh timestamp for the model.","\t *","\t * @return string","\t */","\tpublic function freshTimestampString()","\t{","\t\treturn $this->fromDateTime($this->freshTimestamp());","\t}","","\t/**","\t * Get a new query builder for the model's table.","\t *","\t * @param  bool  $excludeDeleted","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic function newQuery($excludeDeleted = true)","\t{","\t\t$builder = $this->newEloquentBuilder($this->newBaseQueryBuilder());","","\t\t// Once we have the query builders, we will set the model instances so the","\t\t// builder can easily access any information it may need from the model","\t\t// while it is constructing and executing various queries against it.","\t\t$builder->setModel($this)->with($this->with);","","\t\tif ($excludeDeleted && $this->softDelete)","\t\t{","\t\t\t$builder->whereNull($this->getQualifiedDeletedAtColumn());","\t\t}","","\t\treturn $builder;","\t}","","\t/**","\t * Get a new query builder that includes soft deletes.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic function newQueryWithDeleted()","\t{","\t\treturn $this->newQuery(false);","\t}","","\t/**","\t * Create a new Eloquent query builder for the model.","\t *","\t * @param  \\Illuminate\\Database\\Query\\Builder $query","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic function newEloquentBuilder($query)","\t{","\t\treturn new Builder($query);","\t}","","\t/**","\t * Determine if the model instance has been soft-deleted.","\t *","\t * @return bool","\t */","\tpublic function trashed()","\t{","\t\treturn $this->softDelete && ! is_null($this->{static::DELETED_AT});","\t}","","\t/**","\t * Get a new query builder that includes soft deletes.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic static function withTrashed()","\t{","\t\treturn with(new static)->newQueryWithDeleted();","\t}","","\t/**","\t * Get a new query builder that only includes soft deletes.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Builder|static","\t */","\tpublic static function onlyTrashed()","\t{","\t\t$instance = new static;","","\t\t$column = $instance->getQualifiedDeletedAtColumn();","","\t\treturn $instance->newQueryWithDeleted()->whereNotNull($column);","\t}","","\t/**","\t * Get a new query builder instance for the connection.","\t *","\t * @return \\Illuminate\\Database\\Query\\Builder","\t */","\tprotected function newBaseQueryBuilder()","\t{","\t\t$conn = $this->getConnection();","","\t\t$grammar = $conn->getQueryGrammar();","","\t\treturn new QueryBuilder($conn, $grammar, $conn->getPostProcessor());","\t}","","\t/**","\t * Create a new Eloquent Collection instance.","\t *","\t * @param  array  $models","\t * @return \\Illuminate\\Database\\Eloquent\\Collection","\t */","\tpublic function newCollection(array $models = array())","\t{","\t\treturn new Collection($models);","\t}","","\t/**","\t * Create a new pivot model instance.","\t *","\t * @param  \\Illuminate\\Database\\Eloquent\\Model  $parent","\t * @param  array   $attributes","\t * @param  string  $table","\t * @param  bool    $exists","\t * @return \\Illuminate\\Database\\Eloquent\\Relations\\Pivot","\t */","\tpublic function newPivot(Model $parent, array $attributes, $table, $exists)","\t{","\t\treturn new Pivot($parent, $attributes, $table, $exists);","\t}","","\t/**","\t * Get the table associated with the model.","\t *","\t * @return string","\t */","\tpublic function getTable()","\t{","\t\tif (isset($this->table)) return $this->table;","","\t\treturn str_replace('\\\\', '', snake_case(str_plural(class_basename($this))));","\t}","","\t/**","\t * Set the table associated with the model.","\t *","\t * @param  string  $table","\t * @return void","\t */","\tpublic function setTable($table)","\t{","\t\t$this->table = $table;","\t}","","\t/**","\t * Get the value of the model's primary key.","\t *","\t * @return mixed","\t */","\tpublic function getKey()","\t{","\t\treturn $this->getAttribute($this->getKeyName());","\t}","","\t/**","\t * Get the primary key for the model.","\t *","\t * @return string","\t */","\tpublic function getKeyName()","\t{","\t\treturn $this->primaryKey;","\t}","","\t/**","\t * Get the table qualified key name.","\t *","\t * @return string","\t */","\tpublic function getQualifiedKeyName()","\t{","\t\treturn $this->getTable().'.'.$this->getKeyName();","\t}","","\t/**","\t * Determine if the model uses timestamps.","\t *","\t * @return bool","\t */","\tpublic function usesTimestamps()","\t{","\t\treturn $this->timestamps;","\t}","","\t/**","\t * Determine if the model instance uses soft deletes.","\t *","\t * @return bool","\t */","\tpublic function isSoftDeleting()","\t{","\t\treturn $this->softDelete;","\t}","","\t/**","\t * Set the soft deleting property on the model.","\t *","\t * @param  bool  $enabled","\t * @return void","\t */","\tpublic function setSoftDeleting($enabled)","\t{","\t\t$this->softDelete = $enabled;","\t}","","\t/**","\t * Get the polymorphic relationship columns.","\t *","\t * @param  string  $name","\t * @param  string  $type","\t * @param  string  $id","\t * @return array","\t */","\tprotected function getMorphs($name, $type, $id)","\t{","\t\t$type = $type ?: $name.'_type';","","\t\t$id = $id ?: $name.'_id';","","\t\treturn array($type, $id);","\t}","","\t/**","\t * Get the number of models to return per page.","\t *","\t * @return int","\t */","\tpublic function getPerPage()","\t{","\t\treturn $this->perPage;","\t}","","\t/**","\t * Set the number of models ot return per page.","\t *","\t * @param  int   $perPage","\t * @return void","\t */","\tpublic function setPerPage($perPage)","\t{","\t\t$this->perPage = $perPage;","\t}","","\t/**","\t * Get the default foreign key name for the model.","\t *","\t * @return string","\t */","\tpublic function getForeignKey()","\t{","\t\treturn snake_case(class_basename($this)).'_id';","\t}","","\t/**","\t * Get the hidden attributes for the model.","\t *","\t * @return array","\t */","\tpublic function getHidden()","\t{","\t\treturn $this->hidden;","\t}","","\t/**","\t * Set the hidden attributes for the model.","\t *","\t * @param  array  $hidden","\t * @return void","\t */","\tpublic function setHidden(array $hidden)","\t{","\t\t$this->hidden = $hidden;","\t}","","\t/**","\t * Set the visible attributes for the model.","\t *","\t * @param  array  $visible","\t * @return void","\t */","\tpublic function setVisible(array $visible)","\t{","\t\t$this->visible = $visible;","\t}","","\t/**","\t * Set the accessors to append to model arrays.","\t *","\t * @param  array  $appends","\t * @return void","\t */","\tpublic function setAppends(array $appends)","\t{","\t\t$this->appends = $appends;","\t}","","\t/**","\t * Get the fillable attributes for the model.","\t *","\t * @return array","\t */","\tpublic function getFillable()","\t{","\t\treturn $this->fillable;","\t}","","\t/**","\t * Set the fillable attributes for the model.","\t *","\t * @param  array  $fillable","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function fillable(array $fillable)","\t{","\t\t$this->fillable = $fillable;","","\t\treturn $this;","\t}","","\t/**","\t * Set the guarded attributes for the model.","\t *","\t * @param  array  $guarded","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function guard(array $guarded)","\t{","\t\t$this->guarded = $guarded;","","\t\treturn $this;","\t}","","\t/**","\t * Disable all mass assignable restrictions.","\t *","\t * @return void","\t */","\tpublic static function unguard()","\t{","\t\tstatic::$unguarded = true;","\t}","","\t/**","\t * Enable the mass assignment restrictions.","\t *","\t * @return void","\t */","\tpublic static function reguard()","\t{","\t\tstatic::$unguarded = false;","\t}","","\t/**","\t * Set \"unguard\" to a given state.","\t *","\t * @param  bool  $state","\t * @return void","\t */","\tpublic static function setUnguardState($state)","\t{","\t\tstatic::$unguarded = $state;","\t}","","\t/**","\t * Determine if the given attribute may be mass assigned.","\t *","\t * @param  string  $key","\t * @return bool","\t */","\tpublic function isFillable($key)","\t{","\t\tif (static::$unguarded) return true;","","\t\t// If the key is in the \"fillable\" array, we can of course assume that it's","\t\t// a fillable attribute. Otherwise, we will check the guarded array when","\t\t// we need to determine if the attribute is black-listed on the model.","\t\tif (in_array($key, $this->fillable)) return true;","","\t\tif ($this->isGuarded($key)) return false;","","\t\treturn empty($this->fillable) && ! starts_with($key, '_');","\t}","","\t/**","\t * Determine if the given key is guarded.","\t *","\t * @param  string  $key","\t * @return bool","\t */","\tpublic function isGuarded($key)","\t{","\t\treturn in_array($key, $this->guarded) || $this->guarded == array('*');","\t}","","\t/**","\t * Determine if the model is totally guarded.","\t *","\t * @return bool","\t */","\tpublic function totallyGuarded()","\t{","\t\treturn count($this->fillable) == 0 && $this->guarded == array('*');","\t}","","\t/**","\t * Remove the table name from a given key.","\t *","\t * @param  string  $key","\t * @return string","\t */","\tprotected function removeTableFromKey($key)","\t{","\t\tif ( ! str_contains($key, '.')) return $key;","","\t\treturn last(explode('.', $key));","\t}","","\t/**","\t * Get the relationships that are touched on save.","\t *","\t * @return array","\t */","\tpublic function getTouchedRelations()","\t{","\t\treturn $this->touches;","\t}","","\t/**","\t * Set the relationships that are touched on save.","\t *","\t * @param  array  $touches","\t * @return void","\t */","\tpublic function setTouchedRelations(array $touches)","\t{","\t\t$this->touches = $touches;","\t}","","\t/**","\t * Get the value indicating whether the IDs are incrementing.","\t *","\t * @return bool","\t */","\tpublic function getIncrementing()","\t{","\t\treturn $this->incrementing;","\t}","","\t/**","\t * Set whether IDs are incrementing.","\t *","\t * @param  bool  $value","\t * @return void","\t */","\tpublic function setIncrementing($value)","\t{","\t\t$this->incrementing = $value;","\t}","","\t/**","\t * Convert the model instance to JSON.","\t *","\t * @param  int  $options","\t * @return string","\t */","\tpublic function toJson($options = 0)","\t{","\t\treturn json_encode($this->toArray(), $options);","\t}","","\t/**","\t * Convert the model instance to an array.","\t *","\t * @return array","\t */","\tpublic function toArray()","\t{","\t\t$attributes = $this->attributesToArray();","","\t\treturn array_merge($attributes, $this->relationsToArray());","\t}","","\t/**","\t * Convert the model's attributes to an array.","\t *","\t * @return array","\t */","\tpublic function attributesToArray()","\t{","\t\t$attributes = $this->getArrayableAttributes();","","\t\t// We want to spin through all the mutated attributes for this model and call","\t\t// the mutator for the attribute. We cache off every mutated attributes so","\t\t// we don't have to constantly check on attributes that actually change.","\t\tforeach ($this->getMutatedAttributes() as $key)","\t\t{","\t\t\tif ( ! array_key_exists($key, $attributes)) continue;","","\t\t\t$attributes[$key] = $this->mutateAttribute(","\t\t\t\t$key, $attributes[$key]","\t\t\t);","\t\t}","","\t\t// Here we will grab all of the appended, calculated attributes to this model","\t\t// as these attributes are not really in the attributes array, but are run","\t\t// when we need to array or JSON the model for convenience to the coder.","\t\tforeach ($this->appends as $key)","\t\t{","\t\t\t$attributes[$key] = $this->mutateAttribute($key, null);","\t\t}","","\t\treturn $attributes;","\t}","","\t/**","\t * Get an attribute array of all arrayable attributes.","\t *","\t * @return array","\t */","\tprotected function getArrayableAttributes()","\t{","\t\treturn $this->getArrayableItems($this->attributes);","\t}","","\t/**","\t * Get the model's relationships in array form.","\t *","\t * @return array","\t */","\tpublic function relationsToArray()","\t{","\t\t$attributes = array();","","\t\tforeach ($this->getArrayableRelations() as $key => $value)","\t\t{","\t\t\tif (in_array($key, $this->hidden)) continue;","","\t\t\t// If the values implements the Arrayable interface we can just call this","\t\t\t// toArray method on the instances which will convert both models and","\t\t\t// collections to their proper array form and we'll set the values.","\t\t\tif ($value instanceof ArrayableInterface)","\t\t\t{","\t\t\t\t$relation = $value->toArray();","\t\t\t}","","\t\t\t// If the value is null, we'll still go ahead and set it in this list of","\t\t\t// attributes since null is used to represent empty relationships if","\t\t\t// if it a has one or belongs to type relationships on the models.","\t\t\telseif (is_null($value))","\t\t\t{","\t\t\t\t$relation = $value;","\t\t\t}","","\t\t\t// If the relationships snake-casing is enabled, we will snake case this","\t\t\t// key so that the relation attribute is snake cased in this returned","\t\t\t// array to the developers, making this consistent with attributes.","\t\t\tif (static::$snakeAttributes)","\t\t\t{","\t\t\t\t$key = snake_case($key);","\t\t\t}","","\t\t\t// If the relation value has been set, we will set it on this attributes","\t\t\t// list for returning. If it was not arrayable or null, we'll not set","\t\t\t// the value on the array because it is some type of invalid value.","\t\t\tif (isset($relation) || is_null($value))","\t\t\t{","\t\t\t\t$attributes[$key] = $relation;","\t\t\t}","\t\t}","","\t\treturn $attributes;","\t}","","\t/**","\t * Get an attribute array of all arrayable relations.","\t *","\t * @return array","\t */","\tprotected function getArrayableRelations()","\t{","\t\treturn $this->getArrayableItems($this->relations);","\t}","","\t/**","\t * Get an attribute array of all arrayable values.","\t *","\t * @param  array  $values","\t * @return array","\t */","\tprotected function getArrayableItems(array $values)","\t{","\t\tif (count($this->visible) > 0)","\t\t{","\t\t\treturn array_intersect_key($values, array_flip($this->visible));","\t\t}","","\t\treturn array_diff_key($values, array_flip($this->hidden));","\t}","","\t/**","\t * Get an attribute from the model.","\t *","\t * @param  string  $key","\t * @return mixed","\t */","\tpublic function getAttribute($key)","\t{","\t\t$inAttributes = array_key_exists($key, $this->attributes);","","\t\t// If the key references an attribute, we can just go ahead and return the","\t\t// plain attribute value from the model. This allows every attribute to","\t\t// be dynamically accessed through the _get method without accessors.","\t\tif ($inAttributes || $this->hasGetMutator($key))","\t\t{","\t\t\treturn $this->getAttributeValue($key);","\t\t}","","\t\t// If the key already exists in the relationships array, it just means the","\t\t// relationship has already been loaded, so we'll just return it out of","\t\t// here because there is no need to query within the relations twice.","\t\tif (array_key_exists($key, $this->relations))","\t\t{","\t\t\treturn $this->relations[$key];","\t\t}","","\t\t// If the \"attribute\" exists as a method on the model, we will just assume","\t\t// it is a relationship and will load and return results from the query","\t\t// and hydrate the relationship's value on the \"relationships\" array.","\t\t$camelKey = camel_case($key);","","\t\tif (method_exists($this, $camelKey))","\t\t{","\t\t\treturn $this->getRelationshipFromMethod($key, $camelKey);","\t\t}","\t}","","\t/**","\t * Get a plain attribute (not a relationship).","\t *","\t * @param  string  $key","\t * @return mixed","\t */","\tprotected function getAttributeValue($key)","\t{","\t\t$value = $this->getAttributeFromArray($key);","","\t\t// If the attribute has a get mutator, we will call that then return what","\t\t// it returns as the value, which is useful for transforming values on","\t\t// retrieval from the model to a form that is more useful for usage.","\t\tif ($this->hasGetMutator($key))","\t\t{","\t\t\treturn $this->mutateAttribute($key, $value);","\t\t}","","\t\t// If the attribute is listed as a date, we will convert it to a DateTime","\t\t// instance on retrieval, which makes it quite convenient to work with","\t\t// date fields without having to create a mutator for each property.","\t\telseif (in_array($key, $this->getDates()))","\t\t{","\t\t\tif ($value) return $this->asDateTime($value);","\t\t}","","\t\treturn $value;","\t}","","\t/**","\t * Get an attribute from the $attributes array.","\t *","\t * @param  string  $key","\t * @return mixed","\t */","\tprotected function getAttributeFromArray($key)","\t{","\t\tif (array_key_exists($key, $this->attributes))","\t\t{","\t\t\treturn $this->attributes[$key];","\t\t}","\t}","","\t/**","\t * Get a relationship value from a method.","\t *","\t * @param  string  $key","\t * @param  string  $camelKey","\t * @return mixed","\t *","\t * @throws \\LogicException","\t */","\tprotected function getRelationshipFromMethod($key, $camelKey)","\t{","\t\t$relations = $this->$camelKey();","","\t\tif ( ! $relations instanceof Relation)","\t\t{","\t\t\tthrow new LogicException('Relationship method must return an object of type '","\t\t\t\t. 'Illuminate\\Database\\Eloquent\\Relations\\Relation');","\t\t}","","\t\treturn $this->relations[$key] = $relations->getResults();","\t}","","\t/**","\t * Determine if a get mutator exists for an attribute.","\t *","\t * @param  string  $key","\t * @return bool","\t */","\tpublic function hasGetMutator($key)","\t{","\t\treturn method_exists($this, 'get'.studly_case($key).'Attribute');","\t}","","\t/**","\t * Get the value of an attribute using its mutator.","\t *","\t * @param  string  $key","\t * @param  mixed   $value","\t * @return mixed","\t */","\tprotected function mutateAttribute($key, $value)","\t{","\t\treturn $this->{'get'.studly_case($key).'Attribute'}($value);","\t}","","\t/**","\t * Set a given attribute on the model.","\t *","\t * @param  string  $key","\t * @param  mixed   $value","\t * @return void","\t */","\tpublic function setAttribute($key, $value)","\t{","\t\t// First we will check for the presence of a mutator for the set operation","\t\t// which simply lets the developers tweak the attribute as it is set on","\t\t// the model, such as \"json_encoding\" an listing of data for storage.","\t\tif ($this->hasSetMutator($key))","\t\t{","\t\t\t$method = 'set'.studly_case($key).'Attribute';","","\t\t\treturn $this->{$method}($value);","\t\t}","","\t\t// If an attribute is listed as a \"date\", we'll convert it from a DateTime","\t\t// instance into a form proper for storage on the database tables using","\t\t// the connection grammar's date format. We will auto set the values.","\t\telseif (in_array($key, $this->getDates()))","\t\t{","\t\t\tif ($value)","\t\t\t{","\t\t\t\t$value = $this->fromDateTime($value);","\t\t\t}","\t\t}","","\t\t$this->attributes[$key] = $value;","\t}","","\t/**","\t * Determine if a set mutator exists for an attribute.","\t *","\t * @param  string  $key","\t * @return bool","\t */","\tpublic function hasSetMutator($key)","\t{","\t\treturn method_exists($this, 'set'.studly_case($key).'Attribute');","\t}","","\t/**","\t * Get the attributes that should be converted to dates.","\t *","\t * @return array","\t */","\tpublic function getDates()","\t{","\t\t$defaults = array(static::CREATED_AT, static::UPDATED_AT, static::DELETED_AT);","","\t\treturn array_merge($this->dates, $defaults);","\t}","","\t/**","\t * Convert a DateTime to a storable string.","\t *","\t * @param  \\DateTime|int  $value","\t * @return string","\t */","\tpublic function fromDateTime($value)","\t{","\t\t$format = $this->getDateFormat();","","\t\t// If the value is already a DateTime instance, we will just skip the rest of","\t\t// these checks since they will be a waste of time, and hinder performance","\t\t// when checking the field. We will just return the DateTime right away.","\t\tif ($value instanceof DateTime)","\t\t{","\t\t\t//","\t\t}","","\t\t// If the value is totally numeric, we will assume it is a UNIX timestamp and","\t\t// format the date as such. Once we have the date in DateTime form we will","\t\t// format it according to the proper format for the database connection.","\t\telseif (is_numeric($value))","\t\t{","\t\t\t$value = Carbon::createFromTimestamp($value);","\t\t}","","\t\t// If the value is in simple year, month, day format, we will format it using","\t\t// that setup. This is for simple \"date\" fields which do not have hours on","\t\t// the field. This conveniently picks up those dates and format correct.","\t\telseif (preg_match('/^(\\d{4})-(\\d{2})-(\\d{2})$/', $value))","\t\t{","\t\t\t$value = Carbon::createFromFormat('Y-m-d', $value)->startOfDay();","\t\t}","","\t\t// If this value is some other type of string, we'll create the DateTime with","\t\t// the format used by the database connection. Once we get the instance we","\t\t// can return back the finally formatted DateTime instances to the devs.","\t\telseif ( ! $value instanceof DateTime)","\t\t{","\t\t\t$value = Carbon::createFromFormat($format, $value);","\t\t}","","\t\treturn $value->format($format);","\t}","","\t/**","\t * Return a timestamp as DateTime object.","\t *","\t * @param  mixed  $value","\t * @return \\Carbon\\Carbon","\t */","\tprotected function asDateTime($value)","\t{","\t\t// If this value is an integer, we will assume it is a UNIX timestamp's value","\t\t// and format a Carbon object from this timestamp. This allows flexibility","\t\t// when defining your date fields as they might be UNIX timestamps here.","\t\tif (is_numeric($value))","\t\t{","\t\t\treturn Carbon::createFromTimestamp($value);","\t\t}","","\t\t// If the value is in simply year, month, day format, we will instantiate the","\t\t// Carbon instances from that format. Again, this provides for simple date","\t\t// fields on the database, while still supporting Carbonized conversion.","\t\telseif (preg_match('/^(\\d{4})-(\\d{2})-(\\d{2})$/', $value))","\t\t{","\t\t\treturn Carbon::createFromFormat('Y-m-d', $value)->startOfDay();","\t\t}","","\t\t// Finally, we will just assume this date is in the format used by default on","\t\t// the database connection and use that format to create the Carbon object","\t\t// that is returned back out to the developers after we convert it here.","\t\telseif ( ! $value instanceof DateTime)","\t\t{","\t\t\t$format = $this->getDateFormat();","","\t\t\treturn Carbon::createFromFormat($format, $value);","\t\t}","","\t\treturn Carbon::instance($value);","\t}","","\t/**","\t * Get the format for database stored dates.","\t *","\t * @return string","\t */","\tprotected function getDateFormat()","\t{","\t\treturn $this->getConnection()->getQueryGrammar()->getDateFormat();","\t}","","\t/**","\t * Clone the model into a new, non-existing instance.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function replicate()","\t{","\t\t$attributes = array_except($this->attributes, array($this->getKeyName()));","","\t\twith($instance = new static)->setRawAttributes($attributes);","","\t\treturn $instance->setRelations($this->relations);","\t}","","\t/**","\t * Get all of the current attributes on the model.","\t *","\t * @return array","\t */","\tpublic function getAttributes()","\t{","\t\treturn $this->attributes;","\t}","","\t/**","\t * Set the array of model attributes. No checking is done.","\t *","\t * @param  array  $attributes","\t * @param  bool   $sync","\t * @return void","\t */","\tpublic function setRawAttributes(array $attributes, $sync = false)","\t{","\t\t$this->attributes = $attributes;","","\t\tif ($sync) $this->syncOriginal();","\t}","","\t/**","\t * Get the model's original attribute values.","\t *","\t * @param  string  $key","\t * @param  mixed   $default","\t * @return array","\t */","\tpublic function getOriginal($key = null, $default = null)","\t{","\t\treturn array_get($this->original, $key, $default);","\t}","","\t/**","\t * Sync the original attributes with the current.","\t *","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function syncOriginal()","\t{","\t\t$this->original = $this->attributes;","","\t\treturn $this;","\t}","","\t/**","\t * Determine if a given attribute is dirty.","\t *","\t * @param  string  $attribute","\t * @return bool","\t */","\tpublic function isDirty($attribute)","\t{","\t\treturn array_key_exists($attribute, $this->getDirty());","\t}","","\t/**","\t * Get the attributes that have been changed since last sync.","\t *","\t * @return array","\t */","\tpublic function getDirty()","\t{","\t\t$dirty = array();","","\t\tforeach ($this->attributes as $key => $value)","\t\t{","\t\t\tif ( ! array_key_exists($key, $this->original) || $value !== $this->original[$key])","\t\t\t{","\t\t\t\t$dirty[$key] = $value;","\t\t\t}","\t\t}","","\t\treturn $dirty;","\t}","","\t/**","\t * Get all the loaded relations for the instance.","\t *","\t * @return array","\t */","\tpublic function getRelations()","\t{","\t\treturn $this->relations;","\t}","","\t/**","\t * Get a specified relationship.","\t *","\t * @param  string  $relation","\t * @return mixed","\t */","\tpublic function getRelation($relation)","\t{","\t\treturn $this->relations[$relation];","\t}","","\t/**","\t * Set the specific relationship in the model.","\t *","\t * @param  string  $relation","\t * @param  mixed   $value","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function setRelation($relation, $value)","\t{","\t\t$this->relations[$relation] = $value;","","\t\treturn $this;","\t}","","\t/**","\t * Set the entire relations array on the model.","\t *","\t * @param  array  $relations","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function setRelations(array $relations)","\t{","\t\t$this->relations = $relations;","","\t\treturn $this;","\t}","","\t/**","\t * Get the database connection for the model.","\t *","\t * @return \\Illuminate\\Database\\Connection","\t */","\tpublic function getConnection()","\t{","\t\treturn static::resolveConnection($this->connection);","\t}","","\t/**","\t * Get the current connection name for the model.","\t *","\t * @return string","\t */","\tpublic function getConnectionName()","\t{","\t\treturn $this->connection;","\t}","","\t/**","\t * Set the connection associated with the model.","\t *","\t * @param  string  $name","\t * @return \\Illuminate\\Database\\Eloquent\\Model","\t */","\tpublic function setConnection($name)","\t{","\t\t$this->connection = $name;","","\t\treturn $this;","\t}","","\t/**","\t * Resolve a connection instance.","\t *","\t * @param  string  $connection","\t * @return \\Illuminate\\Database\\Connection","\t */","\tpublic static function resolveConnection($connection = null)","\t{","\t\treturn static::$resolver->connection($connection);","\t}","","\t/**","\t * Get the connection resolver instance.","\t *","\t * @return \\Illuminate\\Database\\ConnectionResolverInterface","\t */","\tpublic static function getConnectionResolver()","\t{","\t\treturn static::$resolver;","\t}","","\t/**","\t * Set the connection resolver instance.","\t *","\t * @param  \\Illuminate\\Database\\ConnectionResolverInterface  $resolver","\t * @return void","\t */","\tpublic static function setConnectionResolver(Resolver $resolver)","\t{","\t\tstatic::$resolver = $resolver;","\t}","","\t/**","\t * Get the event dispatcher instance.","\t *","\t * @return \\Illuminate\\Events\\Dispatcher","\t */","\tpublic static function getEventDispatcher()","\t{","\t\treturn static::$dispatcher;","\t}","","\t/**","\t * Set the event dispatcher instance.","\t *","\t * @param  \\Illuminate\\Events\\Dispatcher  $dispatcher","\t * @return void","\t */","\tpublic static function setEventDispatcher(Dispatcher $dispatcher)","\t{","\t\tstatic::$dispatcher = $dispatcher;","\t}","","\t/**","\t * Unset the event dispatcher for models.","\t *","\t * @return void","\t */","\tpublic static function unsetEventDispatcher()","\t{","\t\tstatic::$dispatcher = null;","\t}","","\t/**","\t * Get the mutated attributes for a given instance.","\t *","\t * @return array","\t */","\tpublic function getMutatedAttributes()","\t{","\t\t$class = get_class($this);","","\t\tif (isset(static::$mutatorCache[$class]))","\t\t{","\t\t\treturn static::$mutatorCache[get_class($this)];","\t\t}","","\t\treturn array();","\t}","","\t/**","\t * Dynamically retrieve attributes on the model.","\t *","\t * @param  string  $key","\t * @return mixed","\t */","\tpublic function __get($key)","\t{","\t\treturn $this->getAttribute($key);","\t}","","\t/**","\t * Dynamically set attributes on the model.","\t *","\t * @param  string  $key","\t * @param  mixed   $value","\t * @return void","\t */","\tpublic function __set($key, $value)","\t{","\t\t$this->setAttribute($key, $value);","\t}","","\t/**","\t * Determine if the given attribute exists.","\t *","\t * @param  mixed  $offset","\t * @return bool","\t */","\tpublic function offsetExists($offset)","\t{","\t\treturn isset($this->$offset);","\t}","","\t/**","\t * Get the value for a given offset.","\t *","\t * @param  mixed  $offset","\t * @return mixed","\t */","\tpublic function offsetGet($offset)","\t{","\t\treturn $this->$offset;","\t}","","\t/**","\t * Set the value for a given offset.","\t *","\t * @param  mixed  $offset","\t * @param  mixed  $value","\t * @return void","\t */","\tpublic function offsetSet($offset, $value)","\t{","\t\t$this->$offset = $value;","\t}","","\t/**","\t * Unset the value for a given offset.","\t *","\t * @param  mixed  $offset","\t * @return void","\t */","\tpublic function offsetUnset($offset)","\t{","\t\tunset($this->$offset);","\t}","","\t/**","\t * Determine if an attribute exists on the model.","\t *","\t * @param  string  $key","\t * @return void","\t */","\tpublic function __isset($key)","\t{","\t\treturn ((isset($this->attributes[$key]) || isset($this->relations[$key])) ||","\t\t\t\t($this->hasGetMutator($key) && ! is_null($this->getAttributeValue($key))));","\t}","","\t/**","\t * Unset an attribute on the model.","\t *","\t * @param  string  $key","\t * @return void","\t */","\tpublic function __unset($key)","\t{","\t\tunset($this->attributes[$key]);","","\t\tunset($this->relations[$key]);","\t}","","\t/**","\t * Handle dynamic method calls into the method.","\t *","\t * @param  string  $method","\t * @param  array   $parameters","\t * @return mixed","\t */","\tpublic function __call($method, $parameters)","\t{","\t\tif (in_array($method, array('increment', 'decrement')))","\t\t{","\t\t\treturn call_user_func_array(array($this, $method), $parameters);","\t\t}","","\t\t$query = $this->newQuery();","","\t\treturn call_user_func_array(array($query, $method), $parameters);","\t}","","\t/**","\t * Handle dynamic static method calls into the method.","\t *","\t * @param  string  $method","\t * @param  array   $parameters","\t * @return mixed","\t */","\tpublic static function __callStatic($method, $parameters)","\t{","\t\t$instance = new static;","","\t\treturn call_user_func_array(array($instance, $method), $parameters);","\t}","","\t/**","\t * Convert the model to its string representation.","\t *","\t * @return string","\t */","\tpublic function __toString()","\t{","\t\treturn $this->toJson();","\t}","","\t/**","\t * When a model is being unserialized, check if it needs to be booted.","\t *","\t * @return void","\t */","\tpublic function __wakeup()","\t{","\t\t$this->bootIfNotBooted();","\t}","","}"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":45}},"text":"<?php namespace Illuminate\\Database\\Eloquent;"},{"action":"insertText","range":{"start":{"row":0,"column":45},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":2964,"column":0}},"lines":["","use DateTime;","use ArrayAccess;","use Carbon\\Carbon;","use LogicException;","use Illuminate\\Events\\Dispatcher;","use Illuminate\\Database\\Eloquent\\Relations\\Pivot;","use Illuminate\\Database\\Eloquent\\Relations\\HasOne;","use Illuminate\\Database\\Eloquent\\Relations\\HasMany;","use Illuminate\\Database\\Eloquent\\Relations\\MorphTo;","use Illuminate\\Support\\Contracts\\JsonableInterface;","use Illuminate\\Support\\Contracts\\ArrayableInterface;","use Illuminate\\Database\\Eloquent\\Relations\\Relation;","use Illuminate\\Database\\Eloquent\\Relations\\MorphOne;","use Illuminate\\Database\\Eloquent\\Relations\\MorphMany;","use Illuminate\\Database\\Eloquent\\Relations\\BelongsTo;","use Illuminate\\Database\\Query\\Builder as QueryBuilder;","use Illuminate\\Database\\Eloquent\\Relations\\MorphToMany;","use Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany;","use Illuminate\\Database\\Eloquent\\Relations\\HasManyThrough;","use Illuminate\\Database\\ConnectionResolverInterface as Resolver;","","abstract class Model implements ArrayAccess, ArrayableInterface, JsonableInterface {","","    /**","     * The connection name for the model.","     *","     * @var string","     */","    protected $connection;","","    /**","     * The table associated with the model.","     *","     * @var string","     */","    protected $table;","","    /**","     * The primary key for the model.","     *","     * @var string","     */","    protected $primaryKey = 'id';","","    /**","     * The number of models to return for pagination.","     *","     * @var int","     */","    protected $perPage = 15;","","    /**","     * Indicates if the IDs are auto-incrementing.","     *","     * @var bool","     */","    public $incrementing = true;","","    /**","     * Indicates if the model should be timestamped.","     *","     * @var bool","     */","    public $timestamps = true;","","    /**","     * The model's attributes.","     *","     * @var array","     */","    protected $attributes = array();","","    /**","     * The model attribute's original state.","     *","     * @var array","     */","    protected $original = array();","","    /**","     * The loaded relationships for the model.","     *","     * @var array","     */","    protected $relations = array();","","    /**","     * The attributes that should be hidden for arrays.","     *","     * @var array","     */","    protected $hidden = array();","","    /**","     * The attributes that should be visible in arrays.","     *","     * @var array","     */","    protected $visible = array();","","    /**","     * The accessors to append to the model's array form.","     *","     * @var array","     */","    protected $appends = array();","","    /**","     * The attributes that are mass assignable.","     *","     * @var array","     */","    protected $fillable = array();","","    /**","     * The attributes that aren't mass assignable.","     *","     * @var array","     */","    protected $guarded = array('*');","","    /**","     * The attributes that should be mutated to dates.","     *","     * @var array","     */","    protected $dates = array();","","    /**","     * The relationships that should be touched on save.","     *","     * @var array","     */","    protected $touches = array();","","    /**","     * User exposed observable events","     *","     * @var array","     */","    protected $observables = array();","","    /**","     * The relations to eager load on every query.","     *","     * @var array","     */","    protected $with = array();","","    /**","     * Indicates if the model exists.","     *","     * @var bool","     */","    public $exists = false;","","    /**","     * Indicates if the model should soft delete.","     *","     * @var bool","     */","    protected $softDelete = false;","","    /**","     * Indicates whether attributes are snake cased on arrays.","     *","     * @var bool","     */","    public static $snakeAttributes = true;","","    /**","     * The connection resolver instance.","     *","     * @var \\Illuminate\\Database\\ConnectionResolverInterface","     */","    protected static $resolver;","","    /**","     * The event dispatcher instance.","     *","     * @var \\Illuminate\\Events\\Dispatcher","     */","    protected static $dispatcher;","","    /**","     * The array of booted models.","     *","     * @var array","     */","    protected static $booted = array();","","    /**","     * Indicates if all mass assignment is enabled.","     *","     * @var bool","     */","    protected static $unguarded = false;","","    /**","     * The cache of the mutated attributes for each class.","     *","     * @var array","     */","    protected static $mutatorCache = array();","","    /**","     * The many to many relationship methods.","     *","     * @var array","     */","    public static $manyMethods = array('belongsToMany', 'morphToMany', 'morphedByMany');","","    /**","     * The name of the \"created at\" column.","     *","     * @var string","     */","    const CREATED_AT = 'created_at';","","    /**","     * The name of the \"updated at\" column.","     *","     * @var string","     */","    const UPDATED_AT = 'updated_at';","","    /**","     * The name of the \"deleted at\" column.","     *","     * @var string","     */","    const DELETED_AT = 'deleted_at';","","    /**","     * Create a new Eloquent model instance.","     *","     * @param  array  $attributes","     * @return void","     */","    public function __construct(array $attributes = array())","    {","        $this->bootIfNotBooted();","","        $this->syncOriginal();","","        $this->fill($attributes);","    }","","    /**","     * Check if the model needs to be booted and if so, do it.","     *","     * @return void","     */","    protected function bootIfNotBooted()","    {","        if ( ! isset(static::$booted[get_class($this)]))","        {","            static::$booted[get_class($this)] = true;","","            $this->fireModelEvent('booting', false);","","            static::boot();","","            $this->fireModelEvent('booted', false);","        }","    }","","    /**","     * The \"booting\" method of the model.","     *","     * @return void","     */","    protected static function boot()","    {","        $class = get_called_class();","","        static::$mutatorCache[$class] = array();","","        // Here we will extract all of the mutated attributes so that we can quickly","        // spin through them after we export models to their array form, which we","        // need to be fast. This will let us always know the attributes mutate.","        foreach (get_class_methods($class) as $method)","        {","            if (preg_match('/^get(.+)Attribute$/', $method, $matches))","            {","                if (static::$snakeAttributes) $matches[1] = snake_case($matches[1]);","","                static::$mutatorCache[$class][] = lcfirst($matches[1]);","            }","        }","    }","","    /**","     * Register an observer with the Model.","     *","     * @param  object  $class","     * @return void","     */","    public static function observe($class)","    {","        $instance = new static;","","        $className = get_class($class);","","        // When registering a model observer, we will spin through the possible events","        // and determine if this observer has that method. If it does, we will hook","        // it into the model's event system, making it convenient to watch these.","        foreach ($instance->getObservableEvents() as $event)","        {","            if (method_exists($class, $event))","            {","                static::registerModelEvent($event, $className.'@'.$event);","            }","        }","    }","","    /**","     * Fill the model with an array of attributes.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model|static","     *","     * @throws MassAssignmentException","     */","    public function fill(array $attributes)","    {","        $totallyGuarded = $this->totallyGuarded();","","        foreach ($this->fillableFromArray($attributes) as $key => $value)","        {","            $key = $this->removeTableFromKey($key);","","            // The developers may choose to place some attributes in the \"fillable\"","            // array, which means only those attributes may be set through mass","            // assignment to the model, and all others will just be ignored.","            if ($this->isFillable($key))","            {","                $this->setAttribute($key, $value);","            }","            elseif ($totallyGuarded)","            {","                throw new MassAssignmentException($key);","            }","        }","","        return $this;","    }","","    /**","     * Get the fillable attributes of a given array.","     *","     * @param  array  $attributes","     * @return array","     */","    protected function fillableFromArray(array $attributes)","    {","        if (count($this->fillable) > 0 && ! static::$unguarded)","        {","            return array_intersect_key($attributes, array_flip($this->fillable));","        }","","        return $attributes;","    }","","    /**","     * Create a new instance of the given model.","     *","     * @param  array  $attributes","     * @param  bool   $exists","     * @return \\Illuminate\\Database\\Eloquent\\Model|static","     */","    public function newInstance($attributes = array(), $exists = false)","    {","        // This method just provides a convenient way for us to generate fresh model","        // instances of this current model. It is particularly useful during the","        // hydration of new objects via the Eloquent query builder instances.","        $model = new static((array) $attributes);","","        $model->exists = $exists;","","        return $model;","    }","","    /**","     * Create a new model instance that is existing.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model|static","     */","    public function newFromBuilder($attributes = array())","    {","        $instance = $this->newInstance(array(), true);","","        $instance->setRawAttributes((array) $attributes, true);","","        return $instance;","    }","","    /**","     * Create a collection of models from plain arrays.","     *","     * @param  array  $items","     * @param  string  $connection","     * @return \\Illuminate\\Database\\Eloquent\\Collection","     */","    public static function hydrate(array $items, $connection = null)","    {","        $collection = with($instance = new static)->newCollection();","","        foreach ($items as $item)","        {","            $model = $instance->newFromBuilder($item);","","            if ( ! is_null($connection))","            {","                $model->setConnection($connection);","            }","","            $collection->push($model);","        }","","        return $collection;","    }","","    /**","     * Create a collection of models from a raw query.","     *","     * @param  string  $query","     * @param  array  $bindings","     * @param  string  $connection","     * @return \\Illuminate\\Database\\Eloquent\\Collection","     */","    public static function hydrateRaw($query, $bindings = array(), $connection = null)","    {","        $instance = new static;","","        if ( ! is_null($connection))","        {","            $instance->setConnection($connection);","        }","","        $items = $instance->getConnection()->select($query, $bindings);","","        return static::hydrate($items, $connection);","    }","","    /**","     * Save a new model and return the instance.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model|static","     */","    public static function create(array $attributes)","    {","        $model = new static($attributes);","","        $model->save();","","        return $model;","    }","","    /**","     * Get the first record matching the attributes or create it.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public static function firstOrCreate(array $attributes)","    {","        if ( ! is_null($instance = static::firstByAttributes($attributes)))","        {","            return $instance;","        }","","        return static::create($attributes);","    }","","    /**","     * Get the first record matching the attributes or instantiate it.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public static function firstOrNew(array $attributes)","    {","        if ( ! is_null($instance = static::firstByAttributes($attributes)))","        {","            return $instance;","        }","","        return new static($attributes);","    }","","    /**","     * Get the first model for the given attributes.","     *","     * @param  array  $attributes","     * @return \\Illuminate\\Database\\Eloquent\\Model|null","     */","    protected static function firstByAttributes($attributes)","    {","        $query = static::query();","","        foreach ($attributes as $key => $value)","        {","            $query->where($key, $value);","        }","","        return $query->first() ?: null;","    }","","    /**","     * Begin querying the model.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public static function query()","    {","        return with(new static)->newQuery();","    }","","    /**","     * Begin querying the model on a given connection.","     *","     * @param  string  $connection","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public static function on($connection = null)","    {","        // First we will just create a fresh instance of this model, and then we can","        // set the connection on the model so that it is be used for the queries","        // we execute, as well as being set on each relationship we retrieve.","        $instance = new static;","","        $instance->setConnection($connection);","","        return $instance->newQuery();","    }","","    /**","     * Get all of the models from the database.","     *","     * @param  array  $columns","     * @return \\Illuminate\\Database\\Eloquent\\Collection|static[]","     */","    public static function all($columns = array('*'))","    {","        $instance = new static;","","        return $instance->newQuery()->get($columns);","    }","","    /**","     * Find a model by its primary key.","     *","     * @param  mixed  $id","     * @param  array  $columns","     * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","     */","    public static function find($id, $columns = array('*'))","    {","        if (is_array($id) && empty($id)) return new Collection;","","        $instance = new static;","","        return $instance->newQuery()->find($id, $columns);","    }","","    /**","     * Find a model by its primary key or return new static.","     *","     * @param  mixed  $id","     * @param  array  $columns","     * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","     */","    public static function findOrNew($id, $columns = array('*'))","    {","        if ( ! is_null($model = static::find($id, $columns))) return $model;","","        return new static($columns);","    }","","    /**","     * Find a model by its primary key or throw an exception.","     *","     * @param  mixed  $id","     * @param  array  $columns","     * @return \\Illuminate\\Database\\Eloquent\\Model|Collection|static","     *","     * @throws ModelNotFoundException","     */","    public static function findOrFail($id, $columns = array('*'))","    {","        if ( ! is_null($model = static::find($id, $columns))) return $model;","","        throw with(new ModelNotFoundException)->setModel(get_called_class());","    }","","    /**","     * Eager load relations on the model.","     *","     * @param  array|string  $relations","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function load($relations)","    {","        if (is_string($relations)) $relations = func_get_args();","","        $query = $this->newQuery()->with($relations);","","        $query->eagerLoadRelations(array($this));","","        return $this;","    }","","    /**","     * Being querying a model with eager loading.","     *","     * @param  array|string  $relations","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public static function with($relations)","    {","        if (is_string($relations)) $relations = func_get_args();","","        $instance = new static;","","        return $instance->newQuery()->with($relations);","    }","","    /**","     * Define a one-to-one relationship.","     *","     * @param  string  $related","     * @param  string  $foreignKey","     * @param  string  $localKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasOne","     */","    public function hasOne($related, $foreignKey = null, $localKey = null)","    {","        $foreignKey = $foreignKey ?: $this->getForeignKey();","","        $instance = new $related;","","        $localKey = $localKey ?: $this->getKeyName();","","        return new HasOne($instance->newQuery(), $this, $instance->getTable().'.'.$foreignKey, $localKey);","    }","","    /**","     * Define a polymorphic one-to-one relationship.","     *","     * @param  string  $related","     * @param  string  $name","     * @param  string  $type","     * @param  string  $id","     * @param  string  $localKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphOne","     */","    public function morphOne($related, $name, $type = null, $id = null, $localKey = null)","    {","        $instance = new $related;","","        list($type, $id) = $this->getMorphs($name, $type, $id);","","        $table = $instance->getTable();","","        $localKey = $localKey ?: $this->getKeyName();","","        return new MorphOne($instance->newQuery(), $this, $table.'.'.$type, $table.'.'.$id, $localKey);","    }","","    /**","     * Define an inverse one-to-one or many relationship.","     *","     * @param  string  $related","     * @param  string  $foreignKey","     * @param  string  $otherKey","     * @param  string  $relation","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\BelongsTo","     */","    public function belongsTo($related, $foreignKey = null, $otherKey = null, $relation = null)","    {","        // If no relation name was given, we will use this debug backtrace to extract","        // the calling method's name and use that as the relationship name as most","        // of the time this will be what we desire to use for the relatinoships.","        if (is_null($relation))","        {","            list(, $caller) = debug_backtrace(false);","","            $relation = $caller['function'];","        }","","        // If no foreign key was supplied, we can use a backtrace to guess the proper","        // foreign key name by using the name of the relationship function, which","        // when combined with an \"_id\" should conventionally match the columns.","        if (is_null($foreignKey))","        {","            $foreignKey = snake_case($relation).'_id';","        }","","        $instance = new $related;","","        // Once we have the foreign key names, we'll just create a new Eloquent query","        // for the related models and returns the relationship instance which will","        // actually be responsible for retrieving and hydrating every relations.","        $query = $instance->newQuery();","","        $otherKey = $otherKey ?: $instance->getKeyName();","","        return new BelongsTo($query, $this, $foreignKey, $otherKey, $relation);","    }","","    /**","     * Define a polymorphic, inverse one-to-one or many relationship.","     *","     * @param  string  $name","     * @param  string  $type","     * @param  string  $id","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphTo","     */","    public function morphTo($name = null, $type = null, $id = null)","    {","        // If no name is provided, we will use the backtrace to get the function name","        // since that is most likely the name of the polymorphic interface. We can","        // use that to get both the class and foreign key that will be utilized.","        if (is_null($name))","        {","            list(, $caller) = debug_backtrace(false);","","            $name = snake_case($caller['function']);","        }","","        list($type, $id) = $this->getMorphs($name, $type, $id);","","        // If the type value is null it is probably safe to assume we're eager loading","        // the relationship. When that is the case we will pass in a dummy query as","        // there are multiple types in the morph and we can't use single queries.","        if (is_null($class = $this->$type))","        {","            return new MorphTo(","                $this->newQuery(), $this, $id, null, $type, $name","            );","        }","","        // If we are not eager loading the relatinship, we will essentially treat this","        // as a belongs-to style relationship since morph-to extends that class and","        // we will pass in the appropriate values so that it behaves as expected.","        else","        {","            $instance = new $class;","","            return new MorphTo(","                with($instance)->newQuery(), $this, $id, $instance->getKeyName(), $type, $name","            );","        }","    }","","    /**","     * Define a one-to-many relationship.","     *","     * @param  string  $related","     * @param  string  $foreignKey","     * @param  string  $localKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasMany","     */","    public function hasMany($related, $foreignKey = null, $localKey = null)","    {","        $foreignKey = $foreignKey ?: $this->getForeignKey();","","        $instance = new $related;","","        $localKey = $localKey ?: $this->getKeyName();","","        return new HasMany($instance->newQuery(), $this, $instance->getTable().'.'.$foreignKey, $localKey);","    }","","    /**","     * Define a has-many-through relationship.","     *","     * @param  string  $related","     * @param  string  $through","     * @param  string|null  $firstKey","     * @param  string|null  $secondKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\HasManyThrough","     */","    public function hasManyThrough($related, $through, $firstKey = null, $secondKey = null)","    {","        $through = new $through;","","        $firstKey = $firstKey ?: $this->getForeignKey();","","        $secondKey = $secondKey ?: $through->getForeignKey();","","        return new HasManyThrough(with(new $related)->newQuery(), $this, $through, $firstKey, $secondKey);","    }","","    /**","     * Define a polymorphic one-to-many relationship.","     *","     * @param  string  $related","     * @param  string  $name","     * @param  string  $type","     * @param  string  $id","     * @param  string  $localKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphMany","     */","    public function morphMany($related, $name, $type = null, $id = null, $localKey = null)","    {","        $instance = new $related;","","        // Here we will gather up the morph type and ID for the relationship so that we","        // can properly query the intermediate table of a relation. Finally, we will","        // get the table and create the relationship instances for the developers.","        list($type, $id) = $this->getMorphs($name, $type, $id);","","        $table = $instance->getTable();","","        $localKey = $localKey ?: $this->getKeyName();","","        return new MorphMany($instance->newQuery(), $this, $table.'.'.$type, $table.'.'.$id, $localKey);","    }","","    /**","     * Define a many-to-many relationship.","     *","     * @param  string  $related","     * @param  string  $table","     * @param  string  $foreignKey","     * @param  string  $otherKey","     * @param  string  $relation","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\BelongsToMany","     */","    public function belongsToMany($related, $table = null, $foreignKey = null, $otherKey = null, $relation = null)","    {","        // If no relationship name was passed, we will pull backtraces to get the","        // name of the calling function. We will use that function name as the","        // title of this relation since that is a great convention to apply.","        if (is_null($relation))","        {","            $relation = $this->getBelongsToManyCaller();","        }","","        // First, we'll need to determine the foreign key and \"other key\" for the","        // relationship. Once we have determined the keys we'll make the query","        // instances as well as the relationship instances we need for this.","        $foreignKey = $foreignKey ?: $this->getForeignKey();","","        $instance = new $related;","","        $otherKey = $otherKey ?: $instance->getForeignKey();","","        // If no table name was provided, we can guess it by concatenating the two","        // models using underscores in alphabetical order. The two model names","        // are transformed to snake case from their default CamelCase also.","        if (is_null($table))","        {","            $table = $this->joiningTable($related);","        }","","        // Now we're ready to create a new query builder for the related model and","        // the relationship instances for the relation. The relations will set","        // appropriate query constraint and entirely manages the hydrations.","        $query = $instance->newQuery();","","        return new BelongsToMany($query, $this, $table, $foreignKey, $otherKey, $relation);","    }","","    /**","     * Define a polymorphic many-to-many relationship.","     *","     * @param  string  $related","     * @param  string  $name","     * @param  string  $table","     * @param  string  $foreignKey","     * @param  string  $otherKey","     * @param  bool    $inverse","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphToMany","     */","    public function morphToMany($related, $name, $table = null, $foreignKey = null, $otherKey = null, $inverse = false)","    {","        $caller = $this->getBelongsToManyCaller();","","        // First, we will need to determine the foreign key and \"other key\" for the","        // relationship. Once we have determined the keys we will make the query","        // instances, as well as the relationship instances we need for these.","        $foreignKey = $foreignKey ?: $name.'_id';","","        $instance = new $related;","","        $otherKey = $otherKey ?: $instance->getForeignKey();","","        // Now we're ready to create a new query builder for this related model and","        // the relationship instances for this relation. This relations will set","        // appropriate query constraints then entirely manages the hydrations.","        $query = $instance->newQuery();","","        $table = $table ?: str_plural($name);","","        return new MorphToMany(","            $query, $this, $name, $table, $foreignKey,","            $otherKey, $caller, $inverse","        );","    }","","    /**","     * Define a polymorphic, inverse many-to-many relationship.","     *","     * @param  string  $related","     * @param  string  $name","     * @param  string  $table","     * @param  string  $foreignKey","     * @param  string  $otherKey","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\MorphToMany","     */","    public function morphedByMany($related, $name, $table = null, $foreignKey = null, $otherKey = null)","    {","        $foreignKey = $foreignKey ?: $this->getForeignKey();","","        // For the inverse of the polymorphic many-to-many relations, we will change","        // the way we determine the foreign and other keys, as it is the opposite","        // of the morph-to-many method since we're figuring out these inverses.","        $otherKey = $otherKey ?: $name.'_id';","","        return $this->morphToMany($related, $name, $table, $foreignKey, $otherKey, true);","    }","","    /**","     * Get the relationship name of the belongs to many.","     *","     * @return  string","     */","    protected function getBelongsToManyCaller()","    {","        $self = __FUNCTION__;","","        $caller = array_first(debug_backtrace(false), function($key, $trace) use ($self)","        {","            $caller = $trace['function'];","","            return ( ! in_array($caller, Model::$manyMethods) && $caller != $self);","        });","","        return ! is_null($caller) ? $caller['function'] : null;","    }","","    /**","     * Get the joining table name for a many-to-many relation.","     *","     * @param  string  $related","     * @return string","     */","    public function joiningTable($related)","    {","        // The joining table name, by convention, is simply the snake cased models","        // sorted alphabetically and concatenated with an underscore, so we can","        // just sort the models and join them together to get the table name.","        $base = snake_case(class_basename($this));","","        $related = snake_case(class_basename($related));","","        $models = array($related, $base);","","        // Now that we have the model names in an array we can just sort them and","        // use the implode function to join them together with an underscores,","        // which is typically used by convention within the database system.","        sort($models);","","        return strtolower(implode('_', $models));","    }","","    /**","     * Destroy the models for the given IDs.","     *","     * @param  array|int  $ids","     * @return int","     */","    public static function destroy($ids)","    {","        // We'll initialize a count here so we will return the total number of deletes","        // for the operation. The developers can then check this number as a boolean","        // type value or get this total count of records deleted for logging, etc.","        $count = 0;","","        $ids = is_array($ids) ? $ids : func_get_args();","","        $instance = new static;","","        // We will actually pull the models from the database table and call delete on","        // each of them individually so that their events get fired properly with a","        // correct set of attributes in case the developers wants to check these.","        $key = $instance->getKeyName();","","        foreach ($instance->whereIn($key, $ids)->get() as $model)","        {","            if ($model->delete()) $count++;","        }","","        return $count;","    }","","    /**","     * Delete the model from the database.","     *","     * @return bool|null","     */","    public function delete()","    {","        if (is_null($this->primaryKey))","        {","            throw new \\Exception(\"No primary key defined on model.\");","        }","","        if ($this->exists)","        {","            if ($this->fireModelEvent('deleting') === false) return false;","","            // Here, we'll touch the owning models, verifying these timestamps get updated","            // for the models. This will allow any caching to get broken on the parents","            // by the timestamp. Then we will go ahead and delete the model instance.","            $this->touchOwners();","","            $this->performDeleteOnModel();","","            $this->exists = false;","","            // Once the model has been deleted, we will fire off the deleted event so that","            // the developers may hook into post-delete operations. We will then return","            // a boolean true as the delete is presumably successful on the database.","            $this->fireModelEvent('deleted', false);","","            return true;","        }","    }","","    /**","     * Force a hard delete on a soft deleted model.","     *","     * @return void","     */","    public function forceDelete()","    {","        $softDelete = $this->softDelete;","","        // We will temporarily disable false delete to allow us to perform the real","        // delete operation against the model. We will then restore the deleting","        // state to what this was prior to this given hard deleting operation.","        $this->softDelete = false;","","        $this->delete();","","        $this->softDelete = $softDelete;","    }","","    /**","     * Perform the actual delete query on this model instance.","     *","     * @return void","     */","    protected function performDeleteOnModel()","    {","        $query = $this->newQuery()->where($this->getKeyName(), $this->getKey());","","        if ($this->softDelete)","        {","            $this->{static::DELETED_AT} = $time = $this->freshTimestamp();","","            $query->update(array(static::DELETED_AT => $this->fromDateTime($time)));","        }","        else","        {","            $query->delete();","        }","    }","","    /**","     * Restore a soft-deleted model instance.","     *","     * @return bool|null","     */","    public function restore()","    {","        if ($this->softDelete)","        {","            // If the restoring event does not return false, we will proceed with this","            // restore operation. Otherwise, we bail out so the developer will stop","            // the restore totally. We will clear the deleted timestamp and save.","            if ($this->fireModelEvent('restoring') === false)","            {","                return false;","            }","","            $this->{static::DELETED_AT} = null;","","            // Once we have saved the model, we will fire the \"restored\" event so this","            // developer will do anything they need to after a restore operation is","            // totally finished. Then we will return the result of the save call.","            $result = $this->save();","","            $this->fireModelEvent('restored', false);","","            return $result;","        }","    }","","    /**","     * Register a saving model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function saving($callback)","    {","        static::registerModelEvent('saving', $callback);","    }","","    /**","     * Register a saved model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function saved($callback)","    {","        static::registerModelEvent('saved', $callback);","    }","","    /**","     * Register an updating model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function updating($callback)","    {","        static::registerModelEvent('updating', $callback);","    }","","    /**","     * Register an updated model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function updated($callback)","    {","        static::registerModelEvent('updated', $callback);","    }","","    /**","     * Register a creating model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function creating($callback)","    {","        static::registerModelEvent('creating', $callback);","    }","","    /**","     * Register a created model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function created($callback)","    {","        static::registerModelEvent('created', $callback);","    }","","    /**","     * Register a deleting model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function deleting($callback)","    {","        static::registerModelEvent('deleting', $callback);","    }","","    /**","     * Register a deleted model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function deleted($callback)","    {","        static::registerModelEvent('deleted', $callback);","    }","","    /**","     * Register a restoring model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function restoring($callback)","    {","        static::registerModelEvent('restoring', $callback);","    }","","    /**","     * Register a restored model event with the dispatcher.","     *","     * @param  \\Closure|string  $callback","     * @return void","     */","    public static function restored($callback)","    {","        static::registerModelEvent('restored', $callback);","    }","","    /**","     * Remove all of the event listeners for the model.","     *","     * @return void","     */","    public static function flushEventListeners()","    {","        if ( ! isset(static::$dispatcher)) return;","","        $instance = new static;","","        foreach ($instance->getObservableEvents() as $event)","        {","            static::$dispatcher->forget(\"eloquent.{$event}: \".get_called_class());","        }","    }","","    /**","     * Register a model event with the dispatcher.","     *","     * @param  string  $event","     * @param  \\Closure|string  $callback","     * @return void","     */","    protected static function registerModelEvent($event, $callback)","    {","        if (isset(static::$dispatcher))","        {","            $name = get_called_class();","","            static::$dispatcher->listen(\"eloquent.{$event}: {$name}\", $callback);","        }","    }","","    /**","     * Get the observable event names.","     *","     * @return array","     */","    public function getObservableEvents()","    {","        return array_merge(","            array(","                'creating', 'created', 'updating', 'updated',","                'deleting', 'deleted', 'saving', 'saved',","                'restoring', 'restored',","            ),","            $this->observables","        );","    }","","    /**","     * Increment a column's value by a given amount.","     *","     * @param  string  $column","     * @param  int     $amount","     * @return int","     */","    protected function increment($column, $amount = 1)","    {","        return $this->incrementOrDecrement($column, $amount, 'increment');","    }","","    /**","     * Decrement a column's value by a given amount.","     *","     * @param  string  $column","     * @param  int     $amount","     * @return int","     */","    protected function decrement($column, $amount = 1)","    {","        return $this->incrementOrDecrement($column, $amount, 'decrement');","    }","","    /**","     * Run the increment or decrement method on the model.","     *","     * @param  string  $column","     * @param  int     $amount","     * @param  string  $method","     * @return int","     */","    protected function incrementOrDecrement($column, $amount, $method)","    {","        $query = $this->newQuery();","","        if ( ! $this->exists)","        {","            return $query->{$method}($column, $amount);","        }","","        return $query->where($this->getKeyName(), $this->getKey())->{$method}($column, $amount);","    }","","    /**","     * Update the model in the database.","     *","     * @param  array  $attributes","     * @return mixed","     */","    public function update(array $attributes = array())","    {","        if ( ! $this->exists)","        {","            return $this->newQuery()->update($attributes);","        }","","        return $this->fill($attributes)->save();","    }","","    /**","     * Save the model and all of its relationships.","     *","     * @return bool","     */","    public function push()","    {","        if ( ! $this->save()) return false;","","        // To sync all of the relationships to the database, we will simply spin through","        // the relationships and save each model via this \"push\" method, which allows","        // us to recurse into all of these nested relations for the model instance.","        foreach ($this->relations as $models)","        {","            foreach (Collection::make($models) as $model)","            {","                if ( ! $model->push()) return false;","            }","        }","","        return true;","    }","","    /**","     * Save the model to the database.","     *","     * @param  array  $options","     * @return bool","     */","    public function save(array $options = array())","    {","        $query = $this->newQueryWithDeleted();","","        // If the \"saving\" event returns false we'll bail out of the save and return","        // false, indicating that the save failed. This gives an opportunities to","        // listeners to cancel save operations if validations fail or whatever.","        if ($this->fireModelEvent('saving') === false)","        {","            return false;","        }","","        // If the model already exists in the database we can just update our record","        // that is already in this database using the current IDs in this \"where\"","        // clause to only update this model. Otherwise, we'll just insert them.","        if ($this->exists)","        {","            $saved = $this->performUpdate($query);","        }","","        // If the model is brand new, we'll insert it into our database and set the","        // ID attribute on the model to the value of the newly inserted row's ID","        // which is typically an auto-increment value managed by the database.","        else","        {","            $saved = $this->performInsert($query);","        }","","        if ($saved) $this->finishSave($options);","","        return $saved;","    }","","    /**","     * Finish processing on a successful save operation.","     *","     * @param  array  $options","     * @return void","     */","    protected function finishSave(array $options)","    {","        $this->syncOriginal();","","        $this->fireModelEvent('saved', false);","","        if (array_get($options, 'touch', true)) $this->touchOwners();","    }","","    /**","     * Perform a model update operation.","     *","     * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","     * @return bool","     */","    protected function performUpdate(Builder $query)","    {","        $dirty = $this->getDirty();","","        if (count($dirty) > 0)","        {","            // If the updating event returns false, we will cancel the update operation so","            // developers can hook Validation systems into their models and cancel this","            // operation if the model does not pass validation. Otherwise, we update.","            if ($this->fireModelEvent('updating') === false)","            {","                return false;","            }","","            // First we need to create a fresh query instance and touch the creation and","            // update timestamp on the model which are maintained by us for developer","            // convenience. Then we will just continue saving the model instances.","            if ($this->timestamps)","            {","                $this->updateTimestamps();","            }","","            // Once we have run the update operation, we will fire the \"updated\" event for","            // this model instance. This will allow developers to hook into these after","            // models are updated, giving them a chance to do any special processing.","            $dirty = $this->getDirty();","","            $this->setKeysForSaveQuery($query)->update($dirty);","","            $this->fireModelEvent('updated', false);","        }","","        return true;","    }","","    /**","     * Perform a model insert operation.","     *","     * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","     * @return bool","     */","    protected function performInsert(Builder $query)","    {","        if ($this->fireModelEvent('creating') === false) return false;","","        // First we'll need to create a fresh query instance and touch the creation and","        // update timestamps on this model, which are maintained by us for developer","        // convenience. After, we will just continue saving these model instances.","        if ($this->timestamps)","        {","            $this->updateTimestamps();","        }","","        // If the model has an incrementing key, we can use the \"insertGetId\" method on","        // the query builder, which will give us back the final inserted ID for this","        // table from the database. Not all tables have to be incrementing though.","        $attributes = $this->attributes;","","        if ($this->incrementing)","        {","            $this->insertAndSetId($query, $attributes);","        }","","        // If the table is not incrementing we'll simply insert this attributes as they","        // are, as this attributes arrays must contain an \"id\" column already placed","        // there by the developer as the manually determined key for these models.","        else","        {","            $query->insert($attributes);","        }","","        // We will go ahead and set the exists property to true, so that it is set when","        // the created event is fired, just in case the developer tries to update it","        // during the event. This will allow them to do so and run an update here.","        $this->exists = true;","","        $this->fireModelEvent('created', false);","","        return true;","    }","","    /**","     * Insert the given attributes and set the ID on the model.","     *","     * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","     * @param  array  $attributes","     * @return void","     */","    protected function insertAndSetId(Builder $query, $attributes)","    {","        $id = $query->insertGetId($attributes, $keyName = $this->getKeyName());","","        $this->setAttribute($keyName, $id);","    }","","    /**","     * Touch the owning relations of the model.","     *","     * @return void","     */","    public function touchOwners()","    {","        foreach ($this->touches as $relation)","        {","            $this->$relation()->touch();","        }","    }","","    /**","     * Determine if the model touches a given relation.","     *","     * @param  string  $relation","     * @return bool","     */","    public function touches($relation)","    {","        return in_array($relation, $this->touches);","    }","","    /**","     * Fire the given event for the model.","     *","     * @param  string  $event","     * @param  bool    $halt","     * @return mixed","     */","    protected function fireModelEvent($event, $halt = true)","    {","        if ( ! isset(static::$dispatcher)) return true;","","        // We will append the names of the class to the event to distinguish it from","        // other model events that are fired, allowing us to listen on each model","        // event set individually instead of catching event for all the models.","        $event = \"eloquent.{$event}: \".get_class($this);","","        $method = $halt ? 'until' : 'fire';","","        return static::$dispatcher->$method($event, $this);","    }","","    /**","     * Set the keys for a save update query.","     *","     * @param  \\Illuminate\\Database\\Eloquent\\Builder  $query","     * @return \\Illuminate\\Database\\Eloquent\\Builder","     */","    protected function setKeysForSaveQuery(Builder $query)","    {","        $query->where($this->getKeyName(), '=', $this->getKeyForSaveQuery());","","        return $query;","    }","","    /**","     * Get the primary key value for a save query.","     *","     * @return mixed","     */","    protected function getKeyForSaveQuery()","    {","        if (isset($this->original[$this->getKeyName()]))","        {","            return $this->original[$this->getKeyName()];","        }","        else","        {","            return $this->getAttribute($this->getKeyName());","        }","    }","","    /**","     * Update the model's update timestamp.","     *","     * @return bool","     */","    public function touch()","    {","        $this->updateTimestamps();","","        return $this->save();","    }","","    /**","     * Update the creation and update timestamps.","     *","     * @return void","     */","    protected function updateTimestamps()","    {","        $time = $this->freshTimestamp();","","        if ( ! $this->isDirty(static::UPDATED_AT))","        {","            $this->setUpdatedAt($time);","        }","","        if ( ! $this->exists && ! $this->isDirty(static::CREATED_AT))","        {","            $this->setCreatedAt($time);","        }","    }","","    /**","     * Set the value of the \"created at\" attribute.","     *","     * @param  mixed  $value","     * @return void","     */","    public function setCreatedAt($value)","    {","        $this->{static::CREATED_AT} = $value;","    }","","    /**","     * Set the value of the \"updated at\" attribute.","     *","     * @param  mixed  $value","     * @return void","     */","    public function setUpdatedAt($value)","    {","        $this->{static::UPDATED_AT} = $value;","    }","","    /**","     * Get the name of the \"created at\" column.","     *","     * @return string","     */","    public function getCreatedAtColumn()","    {","        return static::CREATED_AT;","    }","","    /**","     * Get the name of the \"updated at\" column.","     *","     * @return string","     */","    public function getUpdatedAtColumn()","    {","        return static::UPDATED_AT;","    }","","    /**","     * Get the name of the \"deleted at\" column.","     *","     * @return string","     */","    public function getDeletedAtColumn()","    {","        return static::DELETED_AT;","    }","","    /**","     * Get the fully qualified \"deleted at\" column.","     *","     * @return string","     */","    public function getQualifiedDeletedAtColumn()","    {","        return $this->getTable().'.'.$this->getDeletedAtColumn();","    }","","    /**","     * Get a fresh timestamp for the model.","     *","     * @return \\Carbon\\Carbon","     */","    public function freshTimestamp()","    {","        return new Carbon;","    }","","    /**","     * Get a fresh timestamp for the model.","     *","     * @return string","     */","    public function freshTimestampString()","    {","        return $this->fromDateTime($this->freshTimestamp());","    }","","    /**","     * Get a new query builder for the model's table.","     *","     * @param  bool  $excludeDeleted","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public function newQuery($excludeDeleted = true)","    {","        $builder = $this->newEloquentBuilder($this->newBaseQueryBuilder());","","        // Once we have the query builders, we will set the model instances so the","        // builder can easily access any information it may need from the model","        // while it is constructing and executing various queries against it.","        $builder->setModel($this)->with($this->with);","","        if ($excludeDeleted && $this->softDelete)","        {","            $builder->whereNull($this->getQualifiedDeletedAtColumn());","        }","","        return $builder;","    }","","    /**","     * Get a new query builder that includes soft deletes.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public function newQueryWithDeleted()","    {","        return $this->newQuery(false);","    }","","    /**","     * Create a new Eloquent query builder for the model.","     *","     * @param  \\Illuminate\\Database\\Query\\Builder $query","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public function newEloquentBuilder($query)","    {","        return new Builder($query);","    }","","    /**","     * Determine if the model instance has been soft-deleted.","     *","     * @return bool","     */","    public function trashed()","    {","        return $this->softDelete && ! is_null($this->{static::DELETED_AT});","    }","","    /**","     * Get a new query builder that includes soft deletes.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public static function withTrashed()","    {","        return with(new static)->newQueryWithDeleted();","    }","","    /**","     * Get a new query builder that only includes soft deletes.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Builder|static","     */","    public static function onlyTrashed()","    {","        $instance = new static;","","        $column = $instance->getQualifiedDeletedAtColumn();","","        return $instance->newQueryWithDeleted()->whereNotNull($column);","    }","","    /**","     * Get a new query builder instance for the connection.","     *","     * @return \\Illuminate\\Database\\Query\\Builder","     */","    protected function newBaseQueryBuilder()","    {","        $conn = $this->getConnection();","","        $grammar = $conn->getQueryGrammar();","","        return new QueryBuilder($conn, $grammar, $conn->getPostProcessor());","    }","","    /**","     * Create a new Eloquent Collection instance.","     *","     * @param  array  $models","     * @return \\Illuminate\\Database\\Eloquent\\Collection","     */","    public function newCollection(array $models = array())","    {","        return new Collection($models);","    }","","    /**","     * Create a new pivot model instance.","     *","     * @param  \\Illuminate\\Database\\Eloquent\\Model  $parent","     * @param  array   $attributes","     * @param  string  $table","     * @param  bool    $exists","     * @return \\Illuminate\\Database\\Eloquent\\Relations\\Pivot","     */","    public function newPivot(Model $parent, array $attributes, $table, $exists)","    {","        return new Pivot($parent, $attributes, $table, $exists);","    }","","    /**","     * Get the table associated with the model.","     *","     * @return string","     */","    public function getTable()","    {","        if (isset($this->table)) return $this->table;","","        return str_replace('\\\\', '', snake_case(str_plural(class_basename($this))));","    }","","    /**","     * Set the table associated with the model.","     *","     * @param  string  $table","     * @return void","     */","    public function setTable($table)","    {","        $this->table = $table;","    }","","    /**","     * Get the value of the model's primary key.","     *","     * @return mixed","     */","    public function getKey()","    {","        return $this->getAttribute($this->getKeyName());","    }","","    /**","     * Get the primary key for the model.","     *","     * @return string","     */","    public function getKeyName()","    {","        return $this->primaryKey;","    }","","    /**","     * Get the table qualified key name.","     *","     * @return string","     */","    public function getQualifiedKeyName()","    {","        return $this->getTable().'.'.$this->getKeyName();","    }","","    /**","     * Determine if the model uses timestamps.","     *","     * @return bool","     */","    public function usesTimestamps()","    {","        return $this->timestamps;","    }","","    /**","     * Determine if the model instance uses soft deletes.","     *","     * @return bool","     */","    public function isSoftDeleting()","    {","        return $this->softDelete;","    }","","    /**","     * Set the soft deleting property on the model.","     *","     * @param  bool  $enabled","     * @return void","     */","    public function setSoftDeleting($enabled)","    {","        $this->softDelete = $enabled;","    }","","    /**","     * Get the polymorphic relationship columns.","     *","     * @param  string  $name","     * @param  string  $type","     * @param  string  $id","     * @return array","     */","    protected function getMorphs($name, $type, $id)","    {","        $type = $type ?: $name.'_type';","","        $id = $id ?: $name.'_id';","","        return array($type, $id);","    }","","    /**","     * Get the number of models to return per page.","     *","     * @return int","     */","    public function getPerPage()","    {","        return $this->perPage;","    }","","    /**","     * Set the number of models ot return per page.","     *","     * @param  int   $perPage","     * @return void","     */","    public function setPerPage($perPage)","    {","        $this->perPage = $perPage;","    }","","    /**","     * Get the default foreign key name for the model.","     *","     * @return string","     */","    public function getForeignKey()","    {","        return snake_case(class_basename($this)).'_id';","    }","","    /**","     * Get the hidden attributes for the model.","     *","     * @return array","     */","    public function getHidden()","    {","        return $this->hidden;","    }","","    /**","     * Set the hidden attributes for the model.","     *","     * @param  array  $hidden","     * @return void","     */","    public function setHidden(array $hidden)","    {","        $this->hidden = $hidden;","    }","","    /**","     * Set the visible attributes for the model.","     *","     * @param  array  $visible","     * @return void","     */","    public function setVisible(array $visible)","    {","        $this->visible = $visible;","    }","","    /**","     * Set the accessors to append to model arrays.","     *","     * @param  array  $appends","     * @return void","     */","    public function setAppends(array $appends)","    {","        $this->appends = $appends;","    }","","    /**","     * Get the fillable attributes for the model.","     *","     * @return array","     */","    public function getFillable()","    {","        return $this->fillable;","    }","","    /**","     * Set the fillable attributes for the model.","     *","     * @param  array  $fillable","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function fillable(array $fillable)","    {","        $this->fillable = $fillable;","","        return $this;","    }","","    /**","     * Set the guarded attributes for the model.","     *","     * @param  array  $guarded","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function guard(array $guarded)","    {","        $this->guarded = $guarded;","","        return $this;","    }","","    /**","     * Disable all mass assignable restrictions.","     *","     * @return void","     */","    public static function unguard()","    {","        static::$unguarded = true;","    }","","    /**","     * Enable the mass assignment restrictions.","     *","     * @return void","     */","    public static function reguard()","    {","        static::$unguarded = false;","    }","","    /**","     * Set \"unguard\" to a given state.","     *","     * @param  bool  $state","     * @return void","     */","    public static function setUnguardState($state)","    {","        static::$unguarded = $state;","    }","","    /**","     * Determine if the given attribute may be mass assigned.","     *","     * @param  string  $key","     * @return bool","     */","    public function isFillable($key)","    {","        if (static::$unguarded) return true;","","        // If the key is in the \"fillable\" array, we can of course assume that it's","        // a fillable attribute. Otherwise, we will check the guarded array when","        // we need to determine if the attribute is black-listed on the model.","        if (in_array($key, $this->fillable)) return true;","","        if ($this->isGuarded($key)) return false;","","        return empty($this->fillable) && ! starts_with($key, '_');","    }","","    /**","     * Determine if the given key is guarded.","     *","     * @param  string  $key","     * @return bool","     */","    public function isGuarded($key)","    {","        return in_array($key, $this->guarded) || $this->guarded == array('*');","    }","","    /**","     * Determine if the model is totally guarded.","     *","     * @return bool","     */","    public function totallyGuarded()","    {","        return count($this->fillable) == 0 && $this->guarded == array('*');","    }","","    /**","     * Remove the table name from a given key.","     *","     * @param  string  $key","     * @return string","     */","    protected function removeTableFromKey($key)","    {","        if ( ! str_contains($key, '.')) return $key;","","        return last(explode('.', $key));","    }","","    /**","     * Get the relationships that are touched on save.","     *","     * @return array","     */","    public function getTouchedRelations()","    {","        return $this->touches;","    }","","    /**","     * Set the relationships that are touched on save.","     *","     * @param  array  $touches","     * @return void","     */","    public function setTouchedRelations(array $touches)","    {","        $this->touches = $touches;","    }","","    /**","     * Get the value indicating whether the IDs are incrementing.","     *","     * @return bool","     */","    public function getIncrementing()","    {","        return $this->incrementing;","    }","","    /**","     * Set whether IDs are incrementing.","     *","     * @param  bool  $value","     * @return void","     */","    public function setIncrementing($value)","    {","        $this->incrementing = $value;","    }","","    /**","     * Convert the model instance to JSON.","     *","     * @param  int  $options","     * @return string","     */","    public function toJson($options = 0)","    {","        return json_encode($this->toArray(), $options);","    }","","    /**","     * Convert the model instance to an array.","     *","     * @return array","     */","    public function toArray()","    {","        $attributes = $this->attributesToArray();","","        return array_merge($attributes, $this->relationsToArray());","    }","","    /**","     * Convert the model's attributes to an array.","     *","     * @return array","     */","    public function attributesToArray()","    {","        $attributes = $this->getArrayableAttributes();","","        // We want to spin through all the mutated attributes for this model and call","        // the mutator for the attribute. We cache off every mutated attributes so","        // we don't have to constantly check on attributes that actually change.","        foreach ($this->getMutatedAttributes() as $key)","        {","            if ( ! array_key_exists($key, $attributes)) continue;","","            $attributes[$key] = $this->mutateAttribute(","                $key, $attributes[$key]","            );","        }","","        // Here we will grab all of the appended, calculated attributes to this model","        // as these attributes are not really in the attributes array, but are run","        // when we need to array or JSON the model for convenience to the coder.","        foreach ($this->appends as $key)","        {","            $attributes[$key] = $this->mutateAttribute($key, null);","        }","","        return $attributes;","    }","","    /**","     * Get an attribute array of all arrayable attributes.","     *","     * @return array","     */","    protected function getArrayableAttributes()","    {","        return $this->getArrayableItems($this->attributes);","    }","","    /**","     * Get the model's relationships in array form.","     *","     * @return array","     */","    public function relationsToArray()","    {","        $attributes = array();","","        foreach ($this->getArrayableRelations() as $key => $value)","        {","            if (in_array($key, $this->hidden)) continue;","","            // If the values implements the Arrayable interface we can just call this","            // toArray method on the instances which will convert both models and","            // collections to their proper array form and we'll set the values.","            if ($value instanceof ArrayableInterface)","            {","                $relation = $value->toArray();","            }","","            // If the value is null, we'll still go ahead and set it in this list of","            // attributes since null is used to represent empty relationships if","            // if it a has one or belongs to type relationships on the models.","            elseif (is_null($value))","            {","                $relation = $value;","            }","","            // If the relationships snake-casing is enabled, we will snake case this","            // key so that the relation attribute is snake cased in this returned","            // array to the developers, making this consistent with attributes.","            if (static::$snakeAttributes)","            {","                $key = snake_case($key);","            }","","            // If the relation value has been set, we will set it on this attributes","            // list for returning. If it was not arrayable or null, we'll not set","            // the value on the array because it is some type of invalid value.","            if (isset($relation) || is_null($value))","            {","                $attributes[$key] = $relation;","            }","        }","","        return $attributes;","    }","","    /**","     * Get an attribute array of all arrayable relations.","     *","     * @return array","     */","    protected function getArrayableRelations()","    {","        return $this->getArrayableItems($this->relations);","    }","","    /**","     * Get an attribute array of all arrayable values.","     *","     * @param  array  $values","     * @return array","     */","    protected function getArrayableItems(array $values)","    {","        if (count($this->visible) > 0)","        {","            return array_intersect_key($values, array_flip($this->visible));","        }","","        return array_diff_key($values, array_flip($this->hidden));","    }","","    /**","     * Get an attribute from the model.","     *","     * @param  string  $key","     * @return mixed","     */","    public function getAttribute($key)","    {","        $inAttributes = array_key_exists($key, $this->attributes);","","        // If the key references an attribute, we can just go ahead and return the","        // plain attribute value from the model. This allows every attribute to","        // be dynamically accessed through the _get method without accessors.","        if ($inAttributes || $this->hasGetMutator($key))","        {","            return $this->getAttributeValue($key);","        }","","        // If the key already exists in the relationships array, it just means the","        // relationship has already been loaded, so we'll just return it out of","        // here because there is no need to query within the relations twice.","        if (array_key_exists($key, $this->relations))","        {","            return $this->relations[$key];","        }","","        // If the \"attribute\" exists as a method on the model, we will just assume","        // it is a relationship and will load and return results from the query","        // and hydrate the relationship's value on the \"relationships\" array.","        $camelKey = camel_case($key);","","        if (method_exists($this, $camelKey))","        {","            return $this->getRelationshipFromMethod($key, $camelKey);","        }","    }","","    /**","     * Get a plain attribute (not a relationship).","     *","     * @param  string  $key","     * @return mixed","     */","    protected function getAttributeValue($key)","    {","        $value = $this->getAttributeFromArray($key);","","        // If the attribute has a get mutator, we will call that then return what","        // it returns as the value, which is useful for transforming values on","        // retrieval from the model to a form that is more useful for usage.","        if ($this->hasGetMutator($key))","        {","            return $this->mutateAttribute($key, $value);","        }","","        // If the attribute is listed as a date, we will convert it to a DateTime","        // instance on retrieval, which makes it quite convenient to work with","        // date fields without having to create a mutator for each property.","        elseif (in_array($key, $this->getDates()))","        {","            if ($value) return $this->asDateTime($value);","        }","","        return $value;","    }","","    /**","     * Get an attribute from the $attributes array.","     *","     * @param  string  $key","     * @return mixed","     */","    protected function getAttributeFromArray($key)","    {","        if (array_key_exists($key, $this->attributes))","        {","            return $this->attributes[$key];","        }","    }","","    /**","     * Get a relationship value from a method.","     *","     * @param  string  $key","     * @param  string  $camelKey","     * @return mixed","     *","     * @throws \\LogicException","     */","    protected function getRelationshipFromMethod($key, $camelKey)","    {","        $relations = $this->$camelKey();","","        if ( ! $relations instanceof Relation)","        {","            throw new LogicException('Relationship method must return an object of type '","                . 'Illuminate\\Database\\Eloquent\\Relations\\Relation');","        }","","        return $this->relations[$key] = $relations->getResults();","    }","","    /**","     * Determine if a get mutator exists for an attribute.","     *","     * @param  string  $key","     * @return bool","     */","    public function hasGetMutator($key)","    {","        return method_exists($this, 'get'.studly_case($key).'Attribute');","    }","","    /**","     * Get the value of an attribute using its mutator.","     *","     * @param  string  $key","     * @param  mixed   $value","     * @return mixed","     */","    protected function mutateAttribute($key, $value)","    {","        return $this->{'get'.studly_case($key).'Attribute'}($value);","    }","","    /**","     * Set a given attribute on the model.","     *","     * @param  string  $key","     * @param  mixed   $value","     * @return void","     */","    public function setAttribute($key, $value)","    {","        // First we will check for the presence of a mutator for the set operation","        // which simply lets the developers tweak the attribute as it is set on","        // the model, such as \"json_encoding\" an listing of data for storage.","        if ($this->hasSetMutator($key))","        {","            $method = 'set'.studly_case($key).'Attribute';","","            return $this->{$method}($value);","        }","","        // If an attribute is listed as a \"date\", we'll convert it from a DateTime","        // instance into a form proper for storage on the database tables using","        // the connection grammar's date format. We will auto set the values.","        elseif (in_array($key, $this->getDates()))","        {","            if ($value)","            {","                $value = $this->fromDateTime($value);","            }","        }","","        $this->attributes[$key] = $value;","    }","","    /**","     * Determine if a set mutator exists for an attribute.","     *","     * @param  string  $key","     * @return bool","     */","    public function hasSetMutator($key)","    {","        return method_exists($this, 'set'.studly_case($key).'Attribute');","    }","","    /**","     * Get the attributes that should be converted to dates.","     *","     * @return array","     */","    public function getDates()","    {","        $defaults = array(static::CREATED_AT, static::UPDATED_AT, static::DELETED_AT);","","        return array_merge($this->dates, $defaults);","    }","","    /**","     * Convert a DateTime to a storable string.","     *","     * @param  \\DateTime|int  $value","     * @return string","     */","    public function fromDateTime($value)","    {","        $format = $this->getDateFormat();","","        // If the value is already a DateTime instance, we will just skip the rest of","        // these checks since they will be a waste of time, and hinder performance","        // when checking the field. We will just return the DateTime right away.","        if ($value instanceof DateTime)","        {","            //","        }","","        // If the value is totally numeric, we will assume it is a UNIX timestamp and","        // format the date as such. Once we have the date in DateTime form we will","        // format it according to the proper format for the database connection.","        elseif (is_numeric($value))","        {","            $value = Carbon::createFromTimestamp($value);","        }","","        // If the value is in simple year, month, day format, we will format it using","        // that setup. This is for simple \"date\" fields which do not have hours on","        // the field. This conveniently picks up those dates and format correct.","        elseif (preg_match('/^(\\d{4})-(\\d{2})-(\\d{2})$/', $value))","        {","            $value = Carbon::createFromFormat('Y-m-d', $value)->startOfDay();","        }","","        // If this value is some other type of string, we'll create the DateTime with","        // the format used by the database connection. Once we get the instance we","        // can return back the finally formatted DateTime instances to the devs.","        elseif ( ! $value instanceof DateTime)","        {","            $value = Carbon::createFromFormat($format, $value);","        }","","        return $value->format($format);","    }","","    /**","     * Return a timestamp as DateTime object.","     *","     * @param  mixed  $value","     * @return \\Carbon\\Carbon","     */","    protected function asDateTime($value)","    {","        // If this value is an integer, we will assume it is a UNIX timestamp's value","        // and format a Carbon object from this timestamp. This allows flexibility","        // when defining your date fields as they might be UNIX timestamps here.","        if (is_numeric($value))","        {","            return Carbon::createFromTimestamp($value);","        }","","        // If the value is in simply year, month, day format, we will instantiate the","        // Carbon instances from that format. Again, this provides for simple date","        // fields on the database, while still supporting Carbonized conversion.","        elseif (preg_match('/^(\\d{4})-(\\d{2})-(\\d{2})$/', $value))","        {","            return Carbon::createFromFormat('Y-m-d', $value)->startOfDay();","        }","","        // Finally, we will just assume this date is in the format used by default on","        // the database connection and use that format to create the Carbon object","        // that is returned back out to the developers after we convert it here.","        elseif ( ! $value instanceof DateTime)","        {","            $format = $this->getDateFormat();","","            return Carbon::createFromFormat($format, $value);","        }","","        return Carbon::instance($value);","    }","","    /**","     * Get the format for database stored dates.","     *","     * @return string","     */","    protected function getDateFormat()","    {","        return $this->getConnection()->getQueryGrammar()->getDateFormat();","    }","","    /**","     * Clone the model into a new, non-existing instance.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function replicate()","    {","        $attributes = array_except($this->attributes, array($this->getKeyName()));","","        with($instance = new static)->setRawAttributes($attributes);","","        return $instance->setRelations($this->relations);","    }","","    /**","     * Get all of the current attributes on the model.","     *","     * @return array","     */","    public function getAttributes()","    {","        return $this->attributes;","    }","","    /**","     * Set the array of model attributes. No checking is done.","     *","     * @param  array  $attributes","     * @param  bool   $sync","     * @return void","     */","    public function setRawAttributes(array $attributes, $sync = false)","    {","        $this->attributes = $attributes;","","        if ($sync) $this->syncOriginal();","    }","","    /**","     * Get the model's original attribute values.","     *","     * @param  string  $key","     * @param  mixed   $default","     * @return array","     */","    public function getOriginal($key = null, $default = null)","    {","        return array_get($this->original, $key, $default);","    }","","    /**","     * Sync the original attributes with the current.","     *","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function syncOriginal()","    {","        $this->original = $this->attributes;","","        return $this;","    }","","    /**","     * Determine if a given attribute is dirty.","     *","     * @param  string  $attribute","     * @return bool","     */","    public function isDirty($attribute)","    {","        return array_key_exists($attribute, $this->getDirty());","    }","","    /**","     * Get the attributes that have been changed since last sync.","     *","     * @return array","     */","    public function getDirty()","    {","        $dirty = array();","","        foreach ($this->attributes as $key => $value)","        {","            if ( ! array_key_exists($key, $this->original) || $value !== $this->original[$key])","            {","                $dirty[$key] = $value;","            }","        }","","        return $dirty;","    }","","    /**","     * Get all the loaded relations for the instance.","     *","     * @return array","     */","    public function getRelations()","    {","        return $this->relations;","    }","","    /**","     * Get a specified relationship.","     *","     * @param  string  $relation","     * @return mixed","     */","    public function getRelation($relation)","    {","        return $this->relations[$relation];","    }","","    /**","     * Set the specific relationship in the model.","     *","     * @param  string  $relation","     * @param  mixed   $value","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function setRelation($relation, $value)","    {","        $this->relations[$relation] = $value;","","        return $this;","    }","","    /**","     * Set the entire relations array on the model.","     *","     * @param  array  $relations","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function setRelations(array $relations)","    {","        $this->relations = $relations;","","        return $this;","    }","","    /**","     * Get the database connection for the model.","     *","     * @return \\Illuminate\\Database\\Connection","     */","    public function getConnection()","    {","        return static::resolveConnection($this->connection);","    }","","    /**","     * Get the current connection name for the model.","     *","     * @return string","     */","    public function getConnectionName()","    {","        return $this->connection;","    }","","    /**","     * Set the connection associated with the model.","     *","     * @param  string  $name","     * @return \\Illuminate\\Database\\Eloquent\\Model","     */","    public function setConnection($name)","    {","        $this->connection = $name;","","        return $this;","    }","","    /**","     * Resolve a connection instance.","     *","     * @param  string  $connection","     * @return \\Illuminate\\Database\\Connection","     */","    public static function resolveConnection($connection = null)","    {","        return static::$resolver->connection($connection);","    }","","    /**","     * Get the connection resolver instance.","     *","     * @return \\Illuminate\\Database\\ConnectionResolverInterface","     */","    public static function getConnectionResolver()","    {","        return static::$resolver;","    }","","    /**","     * Set the connection resolver instance.","     *","     * @param  \\Illuminate\\Database\\ConnectionResolverInterface  $resolver","     * @return void","     */","    public static function setConnectionResolver(Resolver $resolver)","    {","        static::$resolver = $resolver;","    }","","    /**","     * Get the event dispatcher instance.","     *","     * @return \\Illuminate\\Events\\Dispatcher","     */","    public static function getEventDispatcher()","    {","        return static::$dispatcher;","    }","","    /**","     * Set the event dispatcher instance.","     *","     * @param  \\Illuminate\\Events\\Dispatcher  $dispatcher","     * @return void","     */","    public static function setEventDispatcher(Dispatcher $dispatcher)","    {","        static::$dispatcher = $dispatcher;","    }","","    /**","     * Unset the event dispatcher for models.","     *","     * @return void","     */","    public static function unsetEventDispatcher()","    {","        static::$dispatcher = null;","    }","","    /**","     * Get the mutated attributes for a given instance.","     *","     * @return array","     */","    public function getMutatedAttributes()","    {","        $class = get_class($this);","","        if (isset(static::$mutatorCache[$class]))","        {","            return static::$mutatorCache[get_class($this)];","        }","","        return array();","    }","","    /**","     * Dynamically retrieve attributes on the model.","     *","     * @param  string  $key","     * @return mixed","     */","    public function __get($key)","    {","        return $this->getAttribute($key);","    }","","    /**","     * Dynamically set attributes on the model.","     *","     * @param  string  $key","     * @param  mixed   $value","     * @return void","     */","    public function __set($key, $value)","    {","        $this->setAttribute($key, $value);","    }","","    /**","     * Determine if the given attribute exists.","     *","     * @param  mixed  $offset","     * @return bool","     */","    public function offsetExists($offset)","    {","        return isset($this->$offset);","    }","","    /**","     * Get the value for a given offset.","     *","     * @param  mixed  $offset","     * @return mixed","     */","    public function offsetGet($offset)","    {","        return $this->$offset;","    }","","    /**","     * Set the value for a given offset.","     *","     * @param  mixed  $offset","     * @param  mixed  $value","     * @return void","     */","    public function offsetSet($offset, $value)","    {","        $this->$offset = $value;","    }","","    /**","     * Unset the value for a given offset.","     *","     * @param  mixed  $offset","     * @return void","     */","    public function offsetUnset($offset)","    {","        unset($this->$offset);","    }","","    /**","     * Determine if an attribute exists on the model.","     *","     * @param  string  $key","     * @return void","     */","    public function __isset($key)","    {","        return ((isset($this->attributes[$key]) || isset($this->relations[$key])) ||","                ($this->hasGetMutator($key) && ! is_null($this->getAttributeValue($key))));","    }","","    /**","     * Unset an attribute on the model.","     *","     * @param  string  $key","     * @return void","     */","    public function __unset($key)","    {","        unset($this->attributes[$key]);","","        unset($this->relations[$key]);","    }","","    /**","     * Handle dynamic method calls into the method.","     *","     * @param  string  $method","     * @param  array   $parameters","     * @return mixed","     */","    public function __call($method, $parameters)","    {","        if (in_array($method, array('increment', 'decrement')))","        {","            return call_user_func_array(array($this, $method), $parameters);","        }","","        $query = $this->newQuery();","","        return call_user_func_array(array($query, $method), $parameters);","    }","","    /**","     * Handle dynamic static method calls into the method.","     *","     * @param  string  $method","     * @param  array   $parameters","     * @return mixed","     */","    public static function __callStatic($method, $parameters)","    {","        $instance = new static;","","        return call_user_func_array(array($instance, $method), $parameters);","    }","","    /**","     * Convert the model to its string representation.","     *","     * @return string","     */","    public function __toString()","    {","        return $this->toJson();","    }","","    /**","     * When a model is being unserialized, check if it needs to be booted.","     *","     * @return void","     */","    public function __wakeup()","    {","        $this->bootIfNotBooted();","    }","","}"]}]}]],"redo":[]},"/app/database/migrations/2014_04_28_060832_add_resume_feature.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1398829457473,"undo":[],"redo":[]},"/app/database/migrations/2014_04_30_033959_create_list_tables.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":26,"column":3},"end":{"row":26,"column":3}},"lastUse":1398829408483,"undo":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":31,"column":3},"end":{"row":31,"column":4}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":31,"column":2},"end":{"row":31,"column":3}},"text":"/"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":2},"end":{"row":31,"column":3}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":3},"end":{"row":31,"column":4}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":4},"end":{"row":31,"column":5}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":5},"end":{"row":31,"column":6}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":6},"end":{"row":31,"column":7}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":7},"end":{"row":31,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":8},"end":{"row":31,"column":9}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":9},"end":{"row":31,"column":10}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":10},"end":{"row":31,"column":11}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":11},"end":{"row":31,"column":12}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":12},"end":{"row":31,"column":13}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":13},"end":{"row":31,"column":14}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":14},"end":{"row":31,"column":16}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":15},"end":{"row":31,"column":17}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":16},"end":{"row":31,"column":17}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":17},"end":{"row":31,"column":18}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":18},"end":{"row":31,"column":19}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":19},"end":{"row":31,"column":20}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":20},"end":{"row":31,"column":21}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":21},"end":{"row":31,"column":22}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":22},"end":{"row":31,"column":23}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":23},"end":{"row":31,"column":24}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":26},"end":{"row":31,"column":27}},"text":";"}]}]],"redo":[]},"/app/views/member/manage/mresponses.blade.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":22,"column":66},"end":{"row":22,"column":66}},"lastUse":1398829396229,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":165},"end":{"row":28,"column":166}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":166},"end":{"row":28,"column":167}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":167},"end":{"row":28,"column":168}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":168},"end":{"row":28,"column":169}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":169},"end":{"row":28,"column":170}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":170},"end":{"row":28,"column":171}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":171},"end":{"row":28,"column":172}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":172},"end":{"row":28,"column":173}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":173},"end":{"row":28,"column":174}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":174},"end":{"row":28,"column":175}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":175},"end":{"row":28,"column":176}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":176},"end":{"row":28,"column":177}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":177},"end":{"row":28,"column":178}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":178},"end":{"row":28,"column":179}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":179},"end":{"row":28,"column":180}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":180},"end":{"row":28,"column":181}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":46},"end":{"row":28,"column":47}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":47},"end":{"row":28,"column":48}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":48},"end":{"row":28,"column":49}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":49},"end":{"row":28,"column":50}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":50},"end":{"row":28,"column":51}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":51},"end":{"row":28,"column":52}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":52},"end":{"row":28,"column":53}},"text":"j"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":53},"end":{"row":28,"column":54}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":54},"end":{"row":28,"column":55}},"text":"x"}]}]],"redo":[]},"/app/shub/DashboardHandler.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":19,"column":5},"end":{"row":19,"column":5}},"lastUse":1398827368096,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":1},"end":{"row":0,"column":2}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":2},"end":{"row":0,"column":3}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":3},"end":{"row":0,"column":4}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":3},"end":{"row":0,"column":4}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":2},"end":{"row":0,"column":3}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":1},"end":{"row":0,"column":2}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"text":"s"}]}]],"redo":[]},"/app/controllers/MemberController.php":{"scrollTop":1635,"scrollLeft":0,"selection":{"start":{"row":139,"column":18},"end":{"row":139,"column":18}},"lastUse":1398827112868,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":169,"column":35},"end":{"row":169,"column":36}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":169,"column":32},"end":{"row":169,"column":36}},"text":"Hash"},{"action":"insertText","range":{"start":{"row":169,"column":32},"end":{"row":169,"column":39}},"text":"HashIds"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":169,"column":39},"end":{"row":169,"column":41}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":169,"column":41},"end":{"row":169,"column":42}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":86},"end":{"row":171,"column":87}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":87},"end":{"row":171,"column":88}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":88},"end":{"row":171,"column":90}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":89},"end":{"row":171,"column":90}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":90},"end":{"row":171,"column":91}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":91},"end":{"row":171,"column":92}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":92},"end":{"row":171,"column":93}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":93},"end":{"row":171,"column":94}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":171,"column":94},"end":{"row":171,"column":95}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":37},"end":{"row":128,"column":38}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":38},"end":{"row":128,"column":39}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":39},"end":{"row":128,"column":40}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":40},"end":{"row":128,"column":41}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":41},"end":{"row":128,"column":42}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":42},"end":{"row":128,"column":43}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":43},"end":{"row":128,"column":44}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":128,"column":44},"end":{"row":128,"column":45}},"text":","}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":126,"column":34},"end":{"row":126,"column":35}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":126,"column":34},"end":{"row":126,"column":35}},"text":"4"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":135,"column":60},"end":{"row":135,"column":61}},"text":"2"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":135,"column":60},"end":{"row":135,"column":61}},"text":"3"}]}]],"redo":[]},"/vendor/symfony/http-foundation/Symfony/Component/HttpFoundation/Response.php":{"scrollTop":14997,"scrollLeft":0,"selection":{"start":{"row":1098,"column":55},"end":{"row":1098,"column":55}},"lastUse":1398826613298,"undo":[],"redo":[]},"/vendor/laravel/framework/src/Illuminate/Http/Response.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":8,"column":0},"end":{"row":8,"column":0}},"lastUse":1398826592876,"undo":[],"redo":[]},"/app/models/Student.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":12,"column":0},"end":{"row":12,"column":0}},"lastUse":1398826519877,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":25},"end":{"row":9,"column":26}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":26},"end":{"row":9,"column":27}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":27},"end":{"row":9,"column":28}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":28},"end":{"row":9,"column":29}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":29},"end":{"row":9,"column":30}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":30},"end":{"row":9,"column":31}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":31},"end":{"row":9,"column":33}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":32},"end":{"row":9,"column":34}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":33},"end":{"row":9,"column":34}},"text":"U"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":34},"end":{"row":9,"column":35}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":35},"end":{"row":9,"column":36}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":36},"end":{"row":9,"column":37}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":38},"end":{"row":9,"column":39}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":39},"end":{"row":9,"column":40}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":40},"end":{"row":9,"column":42}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":41},"end":{"row":9,"column":42}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":42},"end":{"row":9,"column":43}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":43},"end":{"row":9,"column":44}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":44},"end":{"row":9,"column":45}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":45},"end":{"row":9,"column":46}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":46},"end":{"row":9,"column":47}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":47},"end":{"row":9,"column":48}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":49},"end":{"row":9,"column":50}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":9,"column":49},"end":{"row":9,"column":50}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":9,"column":50},"end":{"row":9,"column":51}},"text":";"}]}]],"redo":[]},"/app/models/Aresponse.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":18,"column":0},"end":{"row":18,"column":0}},"lastUse":1398826290837,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":5},"end":{"row":14,"column":6}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":6},"end":{"row":14,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":7},"end":{"row":14,"column":8}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":14,"column":8},"end":{"row":14,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":8},"end":{"row":14,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":7},"end":{"row":14,"column":8}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":6},"end":{"row":14,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":5},"end":{"row":14,"column":6}},"text":"A"}]}]],"redo":[]},"/app/shub/HashIds.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":39,"column":0},"end":{"row":39,"column":0}},"lastUse":1398825707760,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":5}},"text":"<?php"},{"action":"insertText","range":{"start":{"row":0,"column":5},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":316,"column":0}},"lines":["namespace Anand;","class Hashids {","","    const VERSION = '0.3.1';","","    /* internal settings */","","    const MIN_ALPHABET_LENGTH = 16;","    const SEP_DIV = 3.5;","    const GUARD_DIV = 12;","","    /* error messages */","","    const E_ALPHABET_LENGTH = 'alphabet must contain at least %d unique characters';","    const E_ALPHABET_SPACE = 'alphabet cannot contain spaces';","","    /* set at constructor */","","    private $_alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';","    private $_seps = 'cfhistuCFHISTU';","    private $_min_hash_length = 6;","    private $_math_functions = array();","    private $_max_int_value = 1000000000;","","    function __construct($salt = '_.lx.', $min_hash_length = 6, $alphabet = '') {","","        /* if either math precision library is present, raise $this->_max_int_value */","","        if (function_exists('gmp_add')) {","            $this->_math_functions['add'] = 'gmp_add';","            $this->_math_functions['div'] = 'gmp_div';","            $this->_math_functions['str'] = 'gmp_strval';","        } else if (function_exists('bcadd')) {","            $this->_math_functions['add'] = 'bcadd';","            $this->_math_functions['div'] = 'bcdiv';","            $this->_math_functions['str'] = 'strval';","        }","","        $this->_lower_max_int_value = $this->_max_int_value;","        if ($this->_math_functions)","            $this->_max_int_value = PHP_INT_MAX;","","        /* handle parameters */","","        $this->_salt = $salt;","","        if ((int)$min_hash_length > 0)","            $this->_min_hash_length = (int)$min_hash_length;","","        if ($alphabet)","            $this->_alphabet = implode('', array_unique(str_split($alphabet)));","","        if (strlen($this->_alphabet) < self::MIN_ALPHABET_LENGTH)","            throw new \\Exception(sprintf(self::E_ALPHABET_LENGTH, self::MIN_ALPHABET_LENGTH));","","        if (is_int(strpos($this->_alphabet, ' ')))","            throw new \\Exception(self::E_ALPHABET_SPACE);","","        $alphabet_array = str_split($this->_alphabet);","        $seps_array = str_split($this->_seps);","","        $this->_seps = implode('', array_intersect($alphabet_array, $seps_array));","        $this->_alphabet = implode('', array_diff($alphabet_array, $seps_array));","        $this->_seps = $this->_consistent_shuffle($this->_seps, $this->_salt);","","        if (!$this->_seps || (strlen($this->_alphabet) / strlen($this->_seps)) > self::SEP_DIV) {","","            $seps_length = (int)ceil(strlen($this->_alphabet) / self::SEP_DIV);","","            if ($seps_length == 1)","                $seps_length++;","","            if ($seps_length > strlen($this->_seps)) {","","                $diff = $seps_length - strlen($this->_seps);","                $this->_seps .= substr($this->_alphabet, 0, $diff);","                $this->_alphabet = substr($this->_alphabet, $diff);","","            } else","                $this->_seps = substr($this->_seps, 0, $seps_length);","","        }","","        $this->_alphabet = $this->_consistent_shuffle($this->_alphabet, $this->_salt);","        $guard_count = (int)ceil(strlen($this->_alphabet) / self::GUARD_DIV);","","        if (strlen($this->_alphabet) < 3) {","            $this->_guards = substr($this->_seps, 0, $guard_count);","            $this->_seps = substr($this->_seps, $guard_count);","        } else {","            $this->_guards = substr($this->_alphabet, 0, $guard_count);","            $this->_alphabet = substr($this->_alphabet, $guard_count);","        }","","    }","","    function encrypt() {","","        $ret = '';","        $numbers = func_get_args();","","        if (!$numbers)","            return $ret;","","        foreach ($numbers as $number) {","","            $is_number = ctype_digit((string)$number);","","            if (!$is_number || $number < 0 || $number > $this->_max_int_value)","                return $ret;","","        }","","        return $this->_encode($numbers);","","    }","","    function decrypt($hash) {","","        $ret = array();","","        if (!$hash || !is_string($hash) || !trim($hash))","            return $ret;","","        return $this->_decode(trim($hash), $this->_alphabet);","","    }","","    function encrypt_hex($str) {","","        if (!ctype_xdigit((string)$str))","            return '';","","        $numbers = trim(chunk_split($str, 12, ' '));","        $numbers = explode(' ', $numbers);","","        foreach ($numbers as $i => $number)","            $numbers[$i] = hexdec('1' . $number);","","        return call_user_func_array(array($this, 'encrypt'), $numbers);","","    }","","    function decrypt_hex($hash) {","","        $ret = \"\";","        $numbers = $this->decrypt($hash);","","        foreach ($numbers as $i => $number)","            $ret .= substr(dechex($number), 1);","","        return $ret;","","    }","","    function get_max_int_value() {","        return $this->_max_int_value;","    }","","    private function _encode(array $numbers) {","","        $alphabet = $this->_alphabet;","        $numbers_size = sizeof($numbers);","        $numbers_hash_int = 0;","","        foreach ($numbers as $i => $number)","            $numbers_hash_int += ($number % ($i + 100));","","        $lottery = $ret = $alphabet[$numbers_hash_int % strlen($alphabet)];","        foreach ($numbers as $i => $number) {","","            $alphabet = $this->_consistent_shuffle($alphabet, substr($lottery . $this->_salt . $alphabet, 0, strlen($alphabet)));","            $ret .= $last = $this->_hash($number, $alphabet);","","            if ($i + 1 < $numbers_size) {","                $number %= (ord($last) + $i);","                $seps_index = $number % strlen($this->_seps);","                $ret .= $this->_seps[$seps_index];","            }","","        }","","        if (strlen($ret) < $this->_min_hash_length) {","","            $guard_index = ($numbers_hash_int + ord($ret[0])) % strlen($this->_guards);","","            $guard = $this->_guards[$guard_index];","            $ret = $guard . $ret;","","            if (strlen($ret) < $this->_min_hash_length) {","","                $guard_index = ($numbers_hash_int + ord($ret[2])) % strlen($this->_guards);","                $guard = $this->_guards[$guard_index];","","                $ret .= $guard;","","            }","","        }","","        $half_length = (int)(strlen($alphabet) / 2);","        while (strlen($ret) < $this->_min_hash_length) {","","            $alphabet = $this->_consistent_shuffle($alphabet, $alphabet);","            $ret = substr($alphabet, $half_length) . $ret . substr($alphabet, 0, $half_length);","","            $excess = strlen($ret) - $this->_min_hash_length;","            if ($excess > 0)","                $ret = substr($ret, $excess / 2, $this->_min_hash_length);","","        }","","        return $ret;","","    }","","    private function _decode($hash, $alphabet) {","","        $ret = array();","","        $hash_breakdown = str_replace(str_split($this->_guards), ' ', $hash);","        $hash_array = explode(' ', $hash_breakdown);","","        $i = 0;","        if (sizeof($hash_array) == 3 || sizeof($hash_array) == 2)","            $i = 1;","","        $hash_breakdown = $hash_array[$i];","        if (isset($hash_breakdown[0])) {","","            $lottery = $hash_breakdown[0];","            $hash_breakdown = substr($hash_breakdown, 1);","","            $hash_breakdown = str_replace(str_split($this->_seps), ' ', $hash_breakdown);","            $hash_array = explode(' ', $hash_breakdown);","","            foreach ($hash_array as $sub_hash) {","                $alphabet = $this->_consistent_shuffle($alphabet, substr($lottery . $this->_salt . $alphabet, 0, strlen($alphabet)));","                $ret[] = (int)$this->_unhash($sub_hash, $alphabet);","            }","","            if ($this->_encode($ret) != $hash)","                $ret = array();","","        }","","        return $ret;","","    }","","    private function _consistent_shuffle($alphabet, $salt) {","","        if (!strlen($salt))","            return $alphabet;","","        for ($i = strlen($alphabet) - 1, $v = 0, $p = 0; $i > 0; $i--, $v++) {","","            $v %= strlen($salt);","            $p += $int = ord($salt[$v]);","            $j = ($int + $v + $p) % $i;","","            $temp = $alphabet[$j];","            $alphabet[$j] = $alphabet[$i];","            $alphabet[$i] = $temp;","","        }","","        return $alphabet;","","    }","","    private function _hash($input, $alphabet) {","","        $hash = '';","        $alphabet_length = strlen($alphabet);","","        do {","","            $hash = $alphabet[$input % $alphabet_length] . $hash;","            if ($input > $this->_lower_max_int_value && $this->_math_functions)","                $input = $this->_math_functions['str']($this->_math_functions['div']($input, $alphabet_length));","            else","                $input = (int)($input / $alphabet_length);","","        } while ($input);","","        return $hash;","","    }","","    private function _unhash($input, $alphabet) {","","        $number = 0;","        if (strlen($input) && $alphabet) {","","            $alphabet_length = strlen($alphabet);","            $input_chars = str_split($input);","","            foreach ($input_chars as $i => $char) {","","                $pos = strpos($alphabet, $char);","                if ($this->_math_functions)","                    $number = $this->_math_functions['str']($this->_math_functions['add']($number, $pos * pow($alphabet_length, (strlen($input) - $i - 1))));","                else","                    $number += $pos * pow($alphabet_length, (strlen($input) - $i - 1));","","            }","","        }","","        return $number;","","    }","","}"]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":1,"column":10},"end":{"row":1,"column":15}},"text":"Anand"},{"action":"insertText","range":{"start":{"row":1,"column":10},"end":{"row":1,"column":11}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":11},"end":{"row":1,"column":12}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":12},"end":{"row":1,"column":13}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":13},"end":{"row":1,"column":14}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":6},"end":{"row":2,"column":13}},"text":"Hashids"},{"action":"insertText","range":{"start":{"row":2,"column":6},"end":{"row":2,"column":7}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":7},"end":{"row":2,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":8},"end":{"row":2,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":8},"end":{"row":2,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":7},"end":{"row":2,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":2,"column":6},"end":{"row":2,"column":7}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":6},"end":{"row":2,"column":7}},"text":"H"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":7},"end":{"row":2,"column":8}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":8},"end":{"row":2,"column":9}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":9},"end":{"row":2,"column":10}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":10},"end":{"row":2,"column":11}},"text":"I"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":11},"end":{"row":2,"column":12}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":2,"column":12},"end":{"row":2,"column":13}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":1,"column":15},"end":{"row":2,"column":0}},"text":"\r\n"}]}]],"redo":[]},"/app/models/Adver.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":24,"column":33},"end":{"row":24,"column":33}},"lastUse":1398788533088,"undo":[],"redo":[]},"/app/filters.php":{"scrollTop":27,"scrollLeft":0,"selection":{"start":{"row":26,"column":24},"end":{"row":26,"column":24}},"lastUse":1398788009091,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":24},"end":{"row":104,"column":26}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":25},"end":{"row":104,"column":26}},"text":"S"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":26},"end":{"row":104,"column":27}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":27},"end":{"row":104,"column":28}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":28},"end":{"row":104,"column":29}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":29},"end":{"row":104,"column":30}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":30},"end":{"row":104,"column":31}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":31},"end":{"row":104,"column":32}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":32},"end":{"row":104,"column":33}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":33},"end":{"row":104,"column":34}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":34},"end":{"row":104,"column":35}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":35},"end":{"row":104,"column":36}},"text":"k"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":36},"end":{"row":104,"column":37}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":37},"end":{"row":104,"column":38}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":38},"end":{"row":104,"column":39}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":39},"end":{"row":104,"column":40}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":40},"end":{"row":104,"column":41}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":41},"end":{"row":104,"column":42}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":42},"end":{"row":104,"column":43}},"text":"m"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":43},"end":{"row":104,"column":44}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":44},"end":{"row":104,"column":45}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":45},"end":{"row":104,"column":46}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":46},"end":{"row":104,"column":47}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":47},"end":{"row":104,"column":48}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":104,"column":50},"end":{"row":104,"column":51}},"text":";"}]}]],"redo":[]},"/app/views/member/manage/mdoubt.blade.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":17,"column":45},"end":{"row":17,"column":45}},"lastUse":1398786252626,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":64},"end":{"row":33,"column":65}},"text":"q"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":65},"end":{"row":33,"column":66}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":66},"end":{"row":33,"column":67}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":67},"end":{"row":33,"column":68}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":68},"end":{"row":33,"column":69}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":69},"end":{"row":33,"column":70}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":70},"end":{"row":33,"column":71}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":71},"end":{"row":33,"column":72}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":72},"end":{"row":33,"column":73}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":73},"end":{"row":33,"column":74}},"text":"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":73},"end":{"row":33,"column":74}},"text":"$"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":74},"end":{"row":33,"column":75}},"text":"q"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":75},"end":{"row":33,"column":76}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":76},"end":{"row":33,"column":77}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":77},"end":{"row":33,"column":78}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":78},"end":{"row":33,"column":79}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":79},"end":{"row":33,"column":80}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":80},"end":{"row":33,"column":81}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":81},"end":{"row":33,"column":82}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":73},"end":{"row":33,"column":74}},"text":"{"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":74},"end":{"row":33,"column":75}},"text":"{"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":75},"end":{"row":33,"column":76}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":85},"end":{"row":33,"column":86}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":86},"end":{"row":33,"column":87}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":33,"column":87},"end":{"row":33,"column":88}},"text":"}"}]}]],"redo":[]},"/app/views/partials/manage_pills.blade.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":15,"column":0},"end":{"row":15,"column":0}},"lastUse":1398785749740,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":12},"end":{"row":11,"column":13}},"text":"L"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":13},"end":{"row":11,"column":14}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":14},"end":{"row":11,"column":15}},"text":":"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":15},"end":{"row":11,"column":16}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":16},"end":{"row":11,"column":17}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":17},"end":{"row":11,"column":18}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":18},"end":{"row":11,"column":19}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":19},"end":{"row":11,"column":20}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":20},"end":{"row":11,"column":21}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":21},"end":{"row":11,"column":22}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":21},"end":{"row":11,"column":22}},"text":"'"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":22},"end":{"row":11,"column":29}},"text":"dbd.mdr"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":29},"end":{"row":11,"column":30}},"text":"'"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":30},"end":{"row":11,"column":31}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":31},"end":{"row":11,"column":32}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":32},"end":{"row":11,"column":33}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":33},"end":{"row":11,"column":34}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":34},"end":{"row":11,"column":35}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":35},"end":{"row":11,"column":36}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":36},"end":{"row":11,"column":37}},"text":"y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":37},"end":{"row":11,"column":38}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":38},"end":{"row":11,"column":39}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":38},"end":{"row":11,"column":39}},"text":"$"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":39},"end":{"row":11,"column":40}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":11,"column":40},"end":{"row":11,"column":41}},"text":"d"}]}]],"redo":[]},"/app/models/Adoubt.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":31,"column":0},"end":{"row":31,"column":0}},"lastUse":1398778930164,"undo":[],"redo":[]},"/app/controllers/AdsController.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":258,"column":17},"end":{"row":258,"column":17}},"lastUse":1398772706206,"undo":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":52},"end":{"row":243,"column":53}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":54},"end":{"row":243,"column":55}},"text":","}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":55},"end":{"row":243,"column":56}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":56},"end":{"row":243,"column":57}},"text":"$"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":57},"end":{"row":243,"column":58}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":58},"end":{"row":243,"column":59}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":59},"end":{"row":243,"column":60}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":60},"end":{"row":243,"column":61}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":61},"end":{"row":243,"column":62}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":62},"end":{"row":243,"column":63}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":63},"end":{"row":243,"column":64}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":64},"end":{"row":243,"column":65}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":65},"end":{"row":243,"column":66}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":67},"end":{"row":243,"column":68}},"text":"-"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":68},"end":{"row":243,"column":69}},"text":">"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":69},"end":{"row":243,"column":70}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":70},"end":{"row":243,"column":71}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":71},"end":{"row":243,"column":72}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":72},"end":{"row":243,"column":73}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":73},"end":{"row":243,"column":75}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":243,"column":69},"end":{"row":243,"column":73}},"text":"find"},{"action":"insertText","range":{"start":{"row":243,"column":69},"end":{"row":243,"column":70}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":70},"end":{"row":243,"column":71}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":71},"end":{"row":243,"column":72}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":72},"end":{"row":243,"column":73}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":243,"column":73},"end":{"row":243,"column":74}},"text":"t"}]}]],"redo":[]},"/app/shub/FormHandler.php":{"scrollTop":0,"scrollLeft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"lastUse":1398772694141,"undo":[],"redo":[]}},"window":{"left":-32000,"top":-32000,"width":160,"height":28}}